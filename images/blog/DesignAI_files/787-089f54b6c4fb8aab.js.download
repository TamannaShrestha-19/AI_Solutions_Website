(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{1369:(e,n,t)=>{"use strict";t.d(n,{s:()=>r});var i=t(6029);t(55729);var a=t(7422),s=t(45638);let r=()=>(0,i.jsxs)(s.A,{stack:!0,gap:2,children:[(0,i.jsx)(a.A,{height:"12px",width:"64px"}),(0,i.jsx)(a.A,{height:"22px",width:"50%"}),(0,i.jsx)(a.A,{height:"23px",width:"90px"}),(0,i.jsxs)(s.A,{stack:!0,gap:1,className:"grow",children:[(0,i.jsx)(a.A,{height:"14px",width:"70%"}),(0,i.jsx)(a.A,{height:"14px",width:"40%"})]})]})},3866:e=>{var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AnnouncementReaction"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AnnouncementReaction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idx"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idx"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[]}]}}],loc:{start:0,end:106}};n.loc.source={body:"fragment AnnouncementReaction on AnnouncementReaction {\n  actor {\n    idx\n    name\n  }\n  idx\n  reaction\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),t[e.name.value]=n}}),e.exports=n,e.exports.AnnouncementReaction=function(e,n){var a={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var s=t[n]||new Set,r=new Set,o=new Set;for(s.forEach(function(e){o.add(e)});o.size>0;){var c=o;o=new Set,c.forEach(function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(n){var t=i(e,n);t&&a.definitions.push(t)}),a}(n,"AnnouncementReaction")},4251:(e,n,t)=>{"use strict";t.d(n,{H2:()=>c,KR:()=>d,NE:()=>l,YC:()=>u});var i=t(65007),a=t(63699),s=t(15552),r=t(75127),o=t(18893);function c(e){let n={},{name:t,status:i,topics:a,description:r}=e;return i&&"string"==typeof i&&(n.status=(0,s.Lr)(i)),t&&"string"==typeof t&&(n.name=t),r&&"string"==typeof r&&(n.content=[{type:"paragraph",children:[{text:r}]}]),a&&"string"==typeof a&&(n.topics=a.split(",").map(e=>(0,s.Lr)(e.trim())).filter(e=>e.startsWith(o.xm))),n}function l(e,n){let t={announcements:o.Ok.ANNOUNCEMENTS_IDEA,roadmap:o.Ok.ROADMAP_IDEA,ideas:o.Ok.IDEA_IDEA}[n];return(0,r.GN)(t,{ideaSlug:e.slug})}function d(e,n){let t=(0,r.GN)(o.vc.VIEW_BOARD_IDEA,{boardId:(0,a.S)(e.board.idx),boardSlug:e.board.slug,ideaSlug:e.slug});return(0,i.kC)(t,n)}function u(e,n){let t=(0,r.GN)(o.vc.VIEW_ROADMAP_IDEA,{ideaSlug:e.slug});return(0,i.kC)(t,n)}},15269:(e,n,t)=>{"use strict";t.d(n,{A:()=>N});var i=t(6029),a=t(55729),s=t(55133),r=t(95742),o=t(21010),c=t(1868),l=t(11340),d=t(17939);let u=(0,t(99966).w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipRule:"evenodd",d:"m3.97726 6.75c0-.41421.33579-.75.75-.75h14.54544c.4142 0 .75.33579.75.75s-.3358.75-.75.75h-14.54544c-.41421 0-.75-.33579-.75-.75zm2 5c0-.4142.33579-.75.75-.75h10.54544c.4142 0 .75.3358.75.75s-.3358.75-.75.75h-10.54544c-.41421 0-.75-.3358-.75-.75zm3.75 4.25c-.41421 0-.75.3358-.75.75s.33579.75.75.75h4.54544c.4142 0 .75-.3358.75-.75s-.3358-.75-.75-.75z",fill:"currentColor",fillRule:"evenodd"})}));var m=t(14756),f=t(24538),h=t(43328),x=t(22295),v=t(13370),p=t(46751);function b(e){return e.isSeparator}function g(e){return!b(e)}let k={xs:"rounded",sm:"rounded",md:"rounded-md",lg:"rounded-md",xl:"rounded-md"},y={xs:"w-[18px] h-[18px] leading-[18px]",sm:"w-[18px] h-[18px] leading-[18px]",md:"w-5 h-5 leading-5",lg:"w-5 h-5 leading-5",xl:"w-5 h-5 leading-5"},A={xs:"px-2",sm:"px-2",md:"px-2",lg:"px-3",xl:"px-3"},w=a.forwardRef(({buttonLabel:e,selectionCount:n,label:t,onClick:a,onClear:r,size:o="md"},l)=>(0,i.jsxs)(c.A,{className:(0,x.cn)("shrink-0 bg-shade-0 border border-shade-20 shadow-sm",k[o]),ref:l,children:[(0,i.jsxs)(c.A,{as:"button",type:"button",onClick:a,"aria-label":e||t,className:(0,x.cn)("items-center justify-center min-w-7 min-h-[1.875rem] font-semibold -my-px max-sm:p-0 max-sm:aspect-square",s.LR[o],s.xH[o]),children:[(0,i.jsx)(c.A,{as:"span",className:(0,x.cn)(s.iW[o],s.Tu[o],"mr-0 max-sm:mx-0"),children:(0,i.jsx)(u,{color:"text"})}),(0,i.jsx)(h.Ay,{as:"span",className:"hidden sm:inline trigger-label text-0.875 select-none leading-5",color:"text",children:t}),n>0&&(0,i.jsx)(h.Ay,{as:"span",color:"white",size:.6875,className:(0,x.cn)("flex items-center ml-1 justify-center shrink-0 rounded-full bg-highlight-light",y[o]),children:n})]}),n>0&&(0,i.jsx)(c.A,{as:"button",type:"button",onClick:r,className:(0,x.cn)("items-center border-l border-shade-20 text-shade-30 hover:text-text",A[o]),children:(0,i.jsx)(d.A,{})})]})),N=({buttonLabel:e,className:n,footer:t,label:s,onClear:d,options:u,placeholder:k="Filter...",placement:y="bottom-start",size:A,trigger:N})=>{let{t:j}=(0,p.c3)(),[S,_]=a.useState(""),C=a.useRef(null),E=a.useRef(null),R=a.useRef(null);a.useEffect(()=>()=>clearTimeout(E.current),[]);let{selected:D,filtered:z}=a.useMemo(()=>{let e=u.filter(e=>!!b(e)||(0,v.$P)(e.label,S)),n=u.filter(e=>"isActive"in e&&e.isActive);return{filtered:e.filter((n,t)=>{if(b(n)){let n=e[t+1];return n&&!b(n)}return!0}),selected:n}},[u,S]),T=N||(({toggle:n,ref:t})=>(0,i.jsx)(w,{buttonLabel:e,label:s,selectionCount:D.length,onClick:n,onClear:d,size:A,ref:t},"trigger")),I=(0,i.jsx)("div",{className:"shrink-0 py-2 w-60",children:(0,i.jsx)(h.Ay,{size:.6875,color:"text-medium",className:"text-center p-3",children:j("search-no-results")})});return z.length&&(I=(0,i.jsx)(f.A,{className:"py-2 max-h-56 w-60 gap-2",role:"listbox",items:z,canSelect:g,onSelect:function(e){e.onClick()},targetRef:R,renderItem:({item:e,index:n,isSelected:t,ref:a,onMouseEnter:s})=>b(e)?(0,i.jsx)(c.A,{as:"li",className:"shrink-0",children:(0,i.jsx)(r.A,{className:"mx-2"})},n):(0,i.jsx)(c.A,{as:"li","aria-selected":e.isActive?"true":"false",role:"option",ref:a,onMouseEnter:s,className:(0,x.cn)("mx-2 flex-col text-0.8125 font-normal rounded-sm",t&&"bg-shade-10"),children:(0,i.jsxs)("button",{type:"button",className:"flex px-3 py-2 items-center w-full border-0 outline-hidden bg-transparent text-text-medium","aria-label":e.label,onClick:e.onClick,children:[e.icon&&(0,i.jsx)(e.icon,{color:e.color||"shade-30",size:"1rem",className:"mr-2"}),(0,i.jsx)(h.Ay,{size:"inherit",color:"current",className:"truncate",children:e.label}),e.isActive&&(0,i.jsx)(m.A,{className:"mr-1 ml-auto"})]})},e.label)})),(0,i.jsx)("div",{className:(0,x.cn)("shrink-0",n),ref:R,children:(0,i.jsxs)(o.A,{ref:C,onClose:function(){_("")},placement:y,trigger:T,children:[(0,i.jsxs)(c.A,{className:"flex-col",children:[(0,i.jsx)("div",{className:"p-2",children:(0,i.jsx)(l.A,{placeholder:k,name:"filter",onChange:function(e){E.current&&clearTimeout(E.current);let n=e.target.value.toLowerCase();E.current=setTimeout(()=>{_(n)},200)},autoFocus:!0,className:"w-full text-0.875",size:"md"})}),(0,i.jsx)(r.A,{})]}),I,t]})})}},19444:(e,n,t)=>{"use strict";t.d(n,{s:()=>em.s,A:()=>ef});var i=t(6029),a=t(81278),s=t(55729),r=t(8625),o=t(493),c=t(4251),l=t(40371),d=t(65007),u=t(19177),m=t(75127),f=t(18893),h=t(20493),x=t(53407),v=t(19667),p=t(1868),b=t(54673),g=t(45638),k=t(43328),y=t(20148),A=t(48342),w=t.n(A),N=t(77807),j=t(22295),S=t(54079),_=t(83555),C=t(46751),E=t(58848),R=t(51298),D=t(48149),z=t(75777),T=t.n(z),I=t(74196),O=t.n(I),F=t(83978),V=t(92481),P=t(85905);function L({announcementIdx:e,userReactions:n}){let{t}=(0,C.c3)(),i=(0,R.v)(T(),{...void 0,update(e,{data:{announcementReactionCreate:n}},{variables:t}){if(!n?.idx)return;let{announcement_idx:i,reaction_code:a}=t;(0,D.ft)(e,i,e=>({...e,reaction_count:{...e.reaction_count,[a]:(e.reaction_count?.[a]||0)+1},user_reactions:[...e.user_reactions,a]}))}}),a=(0,R.v)(O(),{...void 0,update(e,{data:{announcementReactionDelete:n}},{variables:t}){if(!n)return;let{announcement_idx:i,reaction_code:a}=t;return(0,D.ft)(e,i,e=>({...e,reaction_count:{...e.reaction_count,[a]:Math.max((e.reaction_count?.[a]||0)-1,0)},user_reactions:e.user_reactions.filter(e=>e!==a)})),{}}}),{canReactToAnnouncement:r}=(0,E.S)(),{hasSession:o}=(0,V.A)(),c=(0,F.o)({setting:"announcementReactions",subtitle:t("announcement-reaction-signup-prompt")}),l=(0,P.h1)("events"),d=(0,P.h1)("storage");return{toggleReaction:s.useCallback(async t=>{if(!r&&!await c())return;if(n.includes(t)){o||d.set(`announcementReactions.${e}`,n.filter(e=>e!==t));let i=await a({variables:{announcement_idx:e,reaction_code:t},optimisticResponse:{announcementReactionDelete:{idx:e,__typename:"Announcement"}}});i?.data?.announcementReactionDelete&&l.emit(l.types.AnnouncementReactionDelete,{announcementIdx:e,reaction:t});return}o||d.set(`announcementReactions.${e}`,[...n,t]);let s=await i({variables:{announcement_idx:e,reaction_code:t},optimisticResponse:{announcementReactionCreate:{idx:e,__typename:"Announcement"}}});s?.data?.announcementReactionCreate&&l.emit(l.types.AnnouncementReactionCreate,{announcementIdx:e,reaction:t})},[e,n,o,r])}}let G=({count:e,isActive:n,onClick:t,reaction:a,buttonClassName:s})=>{let{t:r}=(0,C.c3)(),o=r(e>1?"announcement-reactions-count":"announcement-reaction-count",{count:e}),c=`${o}, ${r("announcement-add-reaction",{reaction:a}).toLowerCase()}`;return(0,i.jsx)("button",{type:"button","aria-label":c,"aria-pressed":`${n}`,className:(0,j.cn)("relative z-0 overflow-hidden -mr-1 only:mr-0 w-7 h-7 p-1 rounded-full border border-shade-10 bg-shade-0 shadow-md bg-shade-0 before:bg-highlight/20 before:-z-1 before:absolute before:inset-0 last:mr-0",n?"border-highlight":"before:opacity-0 border-shade-20 hover:bg-highlight/20 border-transparent",s),onClick:t,suppressHydrationWarning:!0,children:(0,i.jsx)(b.A,{reaction:a})})},q=s.memo(({announcementIdx:e,userReactions:n,reactionCount:t,buttonClassName:a,displayCount:r=!0})=>{var o;let{t:c}=(0,C.c3)(),l=(0,N.b)(),{toggleReaction:d}=L({announcementIdx:e,userReactions:n}),{data:u}=(o={variables:{announcement_idx:e},fetchPolicy:"cache-only"},(0,y.IT)(w(),o)),{users:m,total:f}=s.useMemo(()=>({users:(0,_.il)({reactions:u?.announcementReactions,reactionCount:t,t:c,userReactions:n,userIdx:l?.idx}),total:t?(0,S.cz)(...Object.values(t)):0}),[u,t,n,l]);return t?(0,i.jsxs)(g.A,{className:"items-center",gap:2,children:[(0,i.jsx)(p.A,{className:"items-center",children:Object.entries(t).map(([e,t])=>(0,_.GT)(e)&&t>0?(0,i.jsx)(G,{isActive:n.includes(e),count:t,reaction:e,usersList:m[e],onClick:()=>d(e),buttonClassName:a},e):null)}),f>1&&r&&(0,i.jsx)(k.Ay,{size:.6875,color:"text-medium",className:"tabular-nums",children:f})]}):null});var $=t(21010),U=t(82511),M=t(79897);let W=({isActive:e,onClick:n,reaction:t})=>{let{t:a}=(0,C.c3)();return(0,i.jsx)("button",{type:"button","aria-pressed":`${e}`,className:(0,j.cn)("w-11 h-11 p-2 rounded-full relative z-0 overflow-hidden hover:bg-highlight/20 transition-colors",e&&"bg-highlight/20"),onClick:n,"aria-label":a("announcement-add-reaction",{reaction:t}),children:(0,i.jsx)(b.A,{reaction:t})})},B=({announcementIdx:e,reactionCount:n,userReactions:t})=>{let{t:a}=(0,C.c3)(),r=s.useRef(null),{toggleReaction:o}=L({announcementIdx:e,userReactions:t});function c(e){o(e),r.current?.hide()}let l=n&&Object.values(n).some(Boolean),d=(0,i.jsxs)(g.A,{as:"button",type:"button",gap:1,className:"inline-flex items-center text-text-medium hover:text-text transition-colors",label:a("announcement-add-reaction-label"),children:[(0,i.jsx)(U.A,{color:"current",size:"1.25rem",className:"transition-none"}),!l&&(0,i.jsx)(k.Ay,{as:"span",size:.6875,color:"current",children:a("announcement-reaction-like")})]});return(0,i.jsx)($.A,{ref:r,placement:"top",popoverClassName:"rounded-full",trigger:d,offsetX:-50,children:(0,i.jsxs)(g.A,{gap:1,className:"p-1",children:[(0,i.jsx)(W,{isActive:t.includes(M.qT.ThumbsUp),reaction:M.qT.ThumbsUp,onClick:()=>c(M.qT.ThumbsUp)}),(0,i.jsx)(W,{isActive:t.includes(M.qT.HeartEyes),reaction:M.qT.HeartEyes,onClick:()=>c(M.qT.HeartEyes)}),(0,i.jsx)(W,{isActive:t.includes(M.qT.Fire),reaction:M.qT.Fire,onClick:()=>c(M.qT.Fire)})]})})};var Y=t(71895);let Q=({announcementIdx:e,userReactions:n,reactionCount:t,buttonClassName:a})=>{let{hasSession:s}=(0,V.A)(),[r]=(0,Y.g)(`announcementReactions.${e}`,[]),o=s?n:r;return(0,i.jsxs)(g.A,{gap:3,className:"items-center ml-auto",children:[(0,i.jsx)(B,{announcementIdx:e,reactionCount:t,userReactions:o}),(0,i.jsx)(q,{announcementIdx:e,reactionCount:t,userReactions:o,buttonClassName:a})]})};var H=t(30021),J=t(65045),X=t(68968),K=t(59734),Z=t(29481),ee=t(94511);let en=({onSubmit:e,announcement:n,canReact:t,recommendedMentions:a})=>{let[r,o]=s.useState(!1),{t:c}=(0,C.c3)(),{company:l}=(0,X.P0)(),d=s.useRef(null),u=s.useRef(null),m=l.settings.allowAnnouncementComments,[f,h]=(0,Y.g)(`createComment.${n.idx}`),x=(0,J.D)(l),{canComment:v}=(0,E.S)(),b=(0,F.o)({setting:"comments",subtitle:c("comment-create-signup-prompt")}),y=(0,P.h1)("events"),A=(0,ee.Y)(({attachments:e,content:n,isPrivate:t})=>{h({attachments:e?.filter(e=>e.url),content:n,isPrivate:t})},{wait:300,callOnUnmount:!0});async function w(t,i){if(!v&&(h(t),!await b()))throw Error(c("comment-create-signup-error"));let{content:a,isPrivate:s,message:r,mentions:l}=t,d=await i();if(!r&&0===d.length)throw Error(c("comment-create-validation-error"));let u=await x({variables:{entity_idx:n.idx,input:{attachments:d,content:a,is_private:s,mentions:l,message:r}}}),m=u?.data?.activityCreate;if(m){if(h(void 0),o(!1),s)return void y.emit(y.types.AnnouncementNoteCreate,{note:m,announcementIdx:n.idx});y.emit(y.types.AnnouncementCommentCreate,{comment:m,announcementIdx:n.idx}),e?.()}}return((0,Z.W)(d,()=>{let e=u.current?.content()||[];(0,K.eB)(e,!0)||o(!1)}),m)?r?(0,i.jsx)(p.A,{ref:d,className:"grow",children:(0,i.jsx)(H.A,{defaultValues:f,onChange:A,onSubmit:w,onError:function(){h(void 0)},ref:u,recommendedMentions:a,mode:"create",autoFocus:!0,reactions:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B,{announcementIdx:n.idx,reactionCount:n.reaction_count,userReactions:n.user_reactions}),(0,i.jsx)(q,{announcementIdx:n.idx,userReactions:n.user_reactions,reactionCount:n.reaction_count,displayCount:!1})]})})}):(0,i.jsxs)(g.A,{className:"relative h-[50px] items-center justify-between w-full bg-shade-0 rounded border py-4 px-5 border-shade-10",children:[(0,i.jsx)("button",{type:"button",className:"absolute inset-0 cursor-text",onClick:()=>o(!0)}),(0,i.jsx)(k.Ay,{color:"text-low",weight:"medium",children:c("announcement-add-comment")}),t&&(0,i.jsx)(Q,{announcementIdx:n.idx,reactionCount:n.reaction_count,userReactions:n.user_reactions})]}):(0,i.jsx)(Q,{announcementIdx:n.idx,reactionCount:n.reaction_count,userReactions:n.user_reactions})};var et=t(55133),ei=t(53062),ea=t(3252);let es=({announcement:e,className:n,defaultOpen:t=!1,selectedActivity:a,canReact:r})=>{let{t:o}=(0,C.c3)(),{company:c,isMember:l}=(0,X.P0)(),d=(0,N.b)(),u=(0,ea.X2)(d),m=e.comment_count,f=m>1,[h,x]=s.useState(t||!!a||!f),b=c.settings?.allowAnnouncementComments,y=b&&c.settings?.showAnnouncementComments==="always",A=b||l;return!b&&r?(0,i.jsx)(Q,{announcementIdx:e.idx,reactionCount:e.reaction_count,userReactions:e.user_reactions}):b||r?(0,i.jsxs)(g.A,{as:"footer",gap:8,stack:!0,className:(0,j.cn)("w-full",n),children:[A&&(0,i.jsx)(en,{announcement:e,recommendedMentions:[e.author],canReact:r}),(y||u)&&(0,i.jsxs)(p.A,{className:"gap-3 flex-col-reverse",children:[(0,i.jsxs)(g.A,{stack:!0,className:(0,j.cn)("relative peer",h||!f?"h-auto":"h-[180px] pointer-events-none overflow-hidden"),children:[(0,i.jsx)(v.A,{emptyState:null,activityCount:m,entityIdx:e.idx,selectedActivity:a,ideaAuthor:e.author,className:"-mx-5 md:-mx-10 w-auto"}),f&&(0,i.jsx)(p.A,{className:(0,j.cn)("absolute bottom-0 pointer-events-auto bg-gradient-to-t from-shade-0 via-shade-0/60 to-transparent w-full z-10 justify-center",h?"bg-transparent h-auto relative":"top-0 z-10"),children:(0,i.jsx)(et.Ay,{variant:"secondary",size:"xs",className:"mt-auto mb-5",onClick:()=>x(!h),children:o(h?"comment-view-less":"comment-view-all")})})]}),(0,i.jsxs)(g.A,{gap:2,className:"items-center peer-empty:hidden",children:[(0,i.jsx)(k.Ay,{size:.875,weight:"medium",children:o("comments")})," ",m>0&&(0,i.jsx)(k.Ay,{size:.8125,weight:"semibold",className:"rounded-full px-2 bg-shade-10",children:m}),!y&&(0,i.jsxs)(g.A,{gap:1,className:"items-center",children:[(0,i.jsx)(ei.A,{}),(0,i.jsx)(k.Ay,{weight:"medium",size:.6875,color:"text-medium",children:"Only visible to Admins"})]})]})]})]}):null};var er=t(55490),eo=t(85136),ec=t(31558),el=t(35513),ed=t(3744),eu=t(50769),em=t(1369);let ef=({article:e,layout:n="full"})=>{let[t,...v]=e.content||[],b=(0,a.useRouter)(),y=(0,o.pJ)(),{t:A}=(0,C.c3)(),w=(0,P.h1)("events"),N=(0,eu.y)(()=>{w.emit(w.types.AnnouncementView,{announcementIdx:e.idx})},{direction:"down",once:!0}),j=s.useMemo(()=>(function(e,n,t){let i,a=(e.ideas||[]).reduce((e,n)=>(e[n.idx]=n,e),{}),s=(0,u.Nn)(n.settings),r=(0,l.JU)(t.pathname)||s,o=n.settings.sections[r],{open:d}=o?.ideas,{openLinksInNewWindow:m}=n.settings.advanced;switch(d){case"embed":i=e=>t.push((0,c.NE)(e,r));case"link":i=e=>{let t="roadmap"===r?(0,c.YC)(e,n):(0,c.KR)(e,n);window.open(t,m?"_blank":"_top")}}return{ideas:a,onIdeaClick:i,canVote:!1,richInternalLinks:!1}})(e,y,b),[e,y,b]),S=function(e,n){let t=(0,m.GN)(f.vc.VIEW_ANNOUNCEMENT,{announcementSlug:e.slug});return(0,d.kC)(t,n)}(e,y),{company:_,isMember:E,isReadOnly:R}=(0,X.P0)(),D=!R&&!_.settings?.disableAnnouncementReactions,z=e.categories?e.categories.slice(0,2):[],{disableAnnouncementLinks:T}=y.settings.sections.announcements,I=e.stats?.total_views||1,O=(0,i.jsx)(er.A,{context:j,element:t,defaultText:"Untitled",publishDate:e.published_at});T||(O=(0,i.jsx)(r.A,{href:S,variant:"inherit",className:"max-w-5/6 hover:underline",children:O}));let F=null,V=function(e){let n=e.content?.[1];if(n&&(0,h.A6)(n))return n}(e);if(y.hasInteracted)switch(n){case"full":F=(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"w-full min-w-0",children:(0,i.jsx)(k.Ay,{as:"div",size:.875,color:"text-medium",children:(0,i.jsx)(eo.Ay,{content:v,context:j})})}),(0,i.jsx)(p.A,{as:"footer",className:"w-full items-center justify-between mt-4",children:E&&(0,i.jsxs)(k.Ay,{as:"span",size:.75,color:"text-medium",children:[(0,i.jsx)(k.Ay,{as:"strong",size:"inherit",color:"text",weight:"medium",children:I})," ",A(1===I?"view":"views").toLocaleLowerCase()]})}),(0,i.jsx)(es,{announcement:e,canReact:D}),N]});break;case"blurb":F=(0,i.jsxs)(g.A,{gap:4,stack:!0,className:"w-full min-w-0",children:[V&&(0,i.jsx)(ec.A,{element:V,context:j}),(0,i.jsx)(k.Ay,{as:"p",size:.875,color:"text-medium",children:e.excerpt})]})}return(0,i.jsxs)(g.A,{as:"article","data-announcement":e.idx,stack:!0,gap:4,className:"grow",children:[(0,i.jsxs)(g.A,{as:"header",stack:!0,gap:2,children:[e.published_at&&(0,i.jsx)(el.A,{date:(0,x.dW)(e.published_at).toISOString(),size:.6875,color:"text-medium",format:"monthDayYear",className:"whitespace-nowrap"}),O,z.length>0&&(0,i.jsx)(g.A,{gap:1,className:"shrink-0",children:z.map(e=>(0,i.jsx)(ed.A,{label:e.name,color:e.color},e.idx))})]}),F]})}},21659:(e,n,t)=>{"use strict";t.d(n,{O:()=>r});var i=t(55729),a=t(493),s=t(85905);function r(e){let n=(0,s.h1)("frame"),{isOpen:t,settings:r}=(0,a.pJ)(),o=(0,s.h1)("events");i.useEffect(()=>{if("embed"!==r.view.type&&n.hasFrame){t&&o.emit(o.types.WidgetPageView,{page:e});return}o.emit(o.types.WidgetPageView,{page:e})},[t])}},44787:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>eg,getAnnouncementsPageLayout:()=>ev});var i=t(6029),a=t(55729),s=t(82203),r=t.n(s),o=t(19444),c=t(493),l=t(22295),d=t(75127),u=t(45638),m=t(18893),f=t(1369);let h=()=>(0,i.jsx)("li",{className:"px-6 py-7 md:p-10 border-t first:border-t-0 border-shade-20",children:(0,i.jsx)(f.s,{})}),x=({article:e})=>{let{layout:n}=(0,c.pJ)().settings.sections.announcements,t="full"!==n;return(0,i.jsxs)(u.A,{as:"li",stack:!0,className:(0,l.cn)("relative shrink-0 px-6 py-7 md:p-10 border-t first:border-t-0 border-shade-20",t?"transition-colors hover:bg-shade-5":""),gap:1,children:[(0,i.jsx)(o.A,{article:e,layout:n}),t&&(0,i.jsx)(r(),{scroll:!1,href:(0,d.GN)(m.Ok.VIEW_ANNOUNCEMENT,{announcementSlug:e.slug}),className:"absolute inset-0 z-0"})]})};var v=t(20148),p=t(45184),b=t.n(p),g=t(53407),k=t(1868),y=t(52831),A=t(99966);let w=(0,A.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.5",children:[(0,i.jsx)("path",{d:"m4.45833 8.37499h3.88889c5.34718-.4861 9.23608-2.91666 9.23608-3.40276 0-.48612.4861-.97223 1.4584-.97223.7778 0 1.2963.64814 1.4583.97223v12.63887c0 .4861-.2917 1.4584-1.4583 1.4584-1.1667 0-1.2963-.9723-1.4584-1.4584-4.375-1.9445-7.6157-2.5926-9.23608-2.9166h-3.88889c-.97221 0-1.45833-1.0695-1.45833-3.4029 0-2.33327.48612-2.91661 1.45833-2.91661z"}),(0,i.jsx)("path",{d:"m8.34732 8.37476v6.31944"}),(0,i.jsx)("path",{d:"m17.5834 4.97223v12.63887"}),(0,i.jsx)("path",{d:"m5.43057 14.6945 2.43055 5.3472c.16204.3241.77778.8751 1.94445.4862.80213-.2674.48613-.9723.48613-1.4584l-.48613-3.8889"})]})})),N=a.createContext({addFilter:()=>{},toggleFilter:()=>{},removeFilter:()=>{},clearFilters:()=>{},filters:{category:[]}}),j=()=>a.useContext(N);var S=t(46751),_=t(93670),C=t(50769),E=t(85905);let R=({categoryIdx:e})=>{var n;let{t}=(0,S.c3)(),{filters:a}=j(),s=function(e){let n={first:m.No};return e.length&&(n.input={category:e}),n}(e?[e]:a.category),{data:r,fetchMore:o,loading:l}=(n={fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0,variables:s},(0,v.IT)(b(),n)),d=(0,E.h1)("frame"),f=(0,E.h1)("storage"),{isOpen:p}=(0,c.pJ)(),{edges:A=[],pageInfo:N}=r?.companyAnnouncements||{},R=A?.map(e=>e.node).filter(e=>!e.deleted),D=A&&0===R.length,z=N?.hasNextPage,T=N?.endCursor,I=l&&!r?.companyAnnouncements;(0,_.Q)(()=>{let e=R?.[0];if(!e||!p)return;let n=f.get("lastSeenAnnouncement"),t=n?(0,g.S5)(n).getTime():0;(0,g.S5)(e.published_at).getTime()>t&&(f.set("lastSeenAnnouncement",e.published_at),d.setStorage("lastSeenAnnouncement",e.published_at))},[R,p],!0);let O=(0,C.y)(function(){l||o({variables:{...s,after:T}})});return I?(0,i.jsxs)(u.A,{as:"ol",stack:!0,className:"grow shrink-0 justify-start list-none overflow-auto",children:[(0,i.jsx)(h,{}),(0,i.jsx)(h,{})]}):D?(0,i.jsx)(k.A,{className:"w-full h-full items-center justify-center",children:(0,i.jsx)(y.A,{icon:w,title:t("announcements-no-announcements-title"),children:t("announcements-no-announcements-subtitle")})}):(0,i.jsxs)(u.A,{as:"ol",stack:!0,className:"grow shrink-0 justify-start list-none",children:[R.map(e=>(0,i.jsx)(x,{article:e},e.idx)),z&&(0,i.jsx)(k.A,{className:"shrink-0 py-2",children:O})]})};var D=t(60718),z=t(21659),T=t(8114),I=t(19177),O=t(10945),F=t(15269),V=t(24021),P=t(82499);let L=({className:e,size:n="lg",placement:t})=>{let{t:a}=(0,S.c3)(),{data:s}=(0,P.E)(),r=s?.companyCategories||[],{filters:o,toggleFilter:c,clearFilters:l}=j(),d=r.map(e=>({onClick:()=>{c("category",e)},label:e.name,color:e.color,icon:V.A,isActive:o.category.includes(e.idx)}));return(0,i.jsx)(F.A,{placement:t,label:a("filter"),placeholder:a("announcements-filter-placeholder"),onClear:l,options:d,className:e,size:n})};var G=t(96570),q=t.n(G),$=t(83978),U=t(55133);let M=(0,A.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipRule:"evenodd",d:"m9.9999 1.49219c-1.49832 0-2.93527.5952-3.99474 1.65467-1.05947 1.05948-1.65468 2.49643-1.65468 3.99475 0 1.75831-.27556 2.85809-.63968 3.62889-.36495.7726-.84224 1.2713-1.3848 1.8315-.0052.0054-.01031.0108-.01534.0163-.20465.2243-.3397.5032-.38873.8029-.04903.2996-.00993.6071.11256.8849.12248.2779.32307.5141.57736.68.25428.166.55131.2544.85494.2546h.00055 13.06486.0003c.3035.0001.6005-.088.8548-.2536.2545-.1656.4553-.4016.5781-.6792.1228-.2777.1623-.585.1137-.8847s-.1833-.5788-.3876-.8033c-.0054-.0059-.0109-.0118-.0165-.0175-.5435-.5603-1.0211-1.0593-1.3861-1.8318-.3642-.77085-.6396-1.8706-.6396-3.62899 0-1.49832-.5952-2.93527-1.6547-3.99475-1.0594-1.05947-2.4964-1.65467-3.9947-1.65467zm-2.93408 2.71533c.77817-.77816 1.83359-1.21533 2.93408-1.21533 1.1005 0 2.1559.43717 2.9341 1.21533.7782.77817 1.2153 1.83359 1.2153 2.93409 0 1.91535.3003 3.24739.7833 4.26969.4776 1.0108 1.1109 1.6635 1.6499 2.2192l.0029.003c.0068.0087.0113.019.0131.03.002.0127.0004.0258-.0049.0376-.0052.0118-.0137.0218-.0245.0289-.0108.007-.0235.0107-.0364.0107h-.0002-13.06461c-.0129 0-.02552-.0037-.03633-.0108-.01081-.007-.01933-.0171-.02454-.0289-.0052-.0118-.00686-.0248-.00478-.0376.00182-.0111.0064-.0215.0133-.0303l.00586-.006c.53719-.5546 1.16897-1.2068 1.64569-2.2159.48287-1.0222.78339-2.35415.78339-4.26959 0-1.1005.43717-2.15592 1.21534-2.93409zm1.16262 12.21768c-.28461-.3009-.7593-.3142-1.06024-.0295-.30095.2846-.3142.7593-.02958 1.0602.33527.3545.78434.6169 1.27462.7897.49354.174 1.03981.2615 1.58668.2615.54688 0 1.09318-.0875 1.58668-.2615.4903-.1728.9394-.4352 1.2746-.7897.2846-.3009.2714-.7756-.0295-1.0602-.301-.2847-.7757-.2714-1.0603.0295-.1343.142-.3605.2919-.6835.4057-.3196.1127-.6958.1762-1.08798.1762-.39213 0-.76833-.0635-1.08802-.1762-.32294-.1138-.54919-.2637-.68346-.4057z",fill:"currentColor",fillRule:"evenodd"})})),W=(0,A.w)((0,i.jsxs)("svg",{fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{clipRule:"evenodd",d:"m9.9999 1.49219c-1.49832 0-2.93527.5952-3.99474 1.65467-1.05947 1.05948-1.65468 2.49643-1.65468 3.99475 0 1.7583-.27556 2.85809-.63968 3.62889-.36495.7726-.84224 1.2713-1.3848 1.8315-.0052.0054-.01031.0108-.01534.0163-.20465.2243-.3397.5033-.38873.8029s-.00993.6071.11256.8849c.12248.2779.32307.5141.57736.68.25428.166.55131.2544.85494.2546h.00055 13.06486.0003c.3035.0001.6005-.088.8548-.2536.2545-.1656.4553-.4016.5781-.6792.1228-.2777.1623-.585.1137-.8847s-.1833-.5788-.3876-.8033l-.006-.0065-.0105-.011c-.5435-.5603-1.0211-1.0593-1.3861-1.8318-.3642-.77085-.6396-1.8706-.6396-3.62899 0-.41422-.3358-.75-.75-.75s-.75.33578-.75.75c0 1.91535.3003 3.24739.7833 4.26969.4776 1.0108 1.1109 1.6635 1.6499 2.2192l.0029.003c.0068.0087.0113.019.0131.03.002.0127.0004.0258-.0049.0376-.0052.0118-.0137.0218-.0245.0289-.0108.007-.0235.0107-.0364.0107h-.0002-13.06461c-.0129 0-.02552-.0037-.03633-.0108-.01081-.007-.01933-.0171-.02454-.0289-.0052-.0118-.00686-.0248-.00478-.0376.00182-.0111.0064-.0215.0133-.0303l.00586-.006c.53719-.5546 1.16897-1.2068 1.64569-2.2159.48287-1.0222.78339-2.35415.78339-4.26959 0-1.1005.43717-2.15592 1.21534-2.93409.77817-.77816 1.83359-1.21533 2.93408-1.21533.4142 0 .75-.33579.75-.75 0-.41422-.3358-.75-.75-.75zm-1.77146 14.93301c-.28461-.3009-.7593-.3142-1.06024-.0295-.30095.2846-.3142.7593-.02958 1.0602.33527.3545.78434.6169 1.27462.7897.49353.174 1.03981.2615 1.58668.2615.54688 0 1.09318-.0875 1.58668-.2615.4903-.1728.9394-.4352 1.2746-.7897.2846-.3009.2714-.7756-.0295-1.0602-.301-.2847-.7757-.2714-1.0603.0295-.1343.142-.3605.2919-.6835.4057-.3196.1127-.6958.1762-1.08798.1762-.39213 0-.76833-.0635-1.08802-.1762-.32294-.1138-.54919-.2637-.68346-.4057z",fill:"currentColor",fillRule:"evenodd"}),(0,i.jsx)("path",{d:"m11.64 4.0312 1.0626 1.05744c.1031.10256.2716.09588.3662-.01452l2.7883-3.25353",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.5",className:"tick"})]}));var B=t(75913),Y=t(66331),Q=t(3113),H=t(11340),J=t(43328),X=t(96927),K=t(51298),Z=t(61523),ee=t.n(Z),en=t(60098),et=t(89719),ei=t(92481),ea=t(68968),es=t(26046);let er=function({onCancel:e,onSubmit:n,footer:t}){let{identifyGuest:a}=(0,ei.A)(),{register:s,handleSubmit:r,formState:o}=(0,es.mN)(),c=(0,K.v)(ee(),void 0),{t:l}=(0,S.c3)(),{company:d}=(0,ea.P0)(),f=(0,E.h1)("routes");async function h(e){try{let{name:t,email:i}=e;await c({variables:{name:t,email:i}}),a({name:t,email:i}),n?.(e)}catch(e){throw Error((0,en.ae)(e,l,l("something-went-wrong")))}}let{isSubmitting:x,errors:v}=o;return o.isSubmitSuccessful?(0,i.jsxs)(u.A,{stack:!0,gap:2,children:[(0,i.jsx)(J.Ay,{as:"h2",size:1.5,weight:"semibold",tracking:"heading",children:l("announcements-subscribe-success-title")}),(0,i.jsx)(J.Ay,{size:1,color:"text-medium",children:l("announcements-subscribe-success-subtitle")}),(0,i.jsx)(U.Ay,{variant:"secondary-ghost",className:"ml-auto",onClick:e,children:l("close")})]}):(0,i.jsxs)(u.A,{as:"form",name:"guest-announcement-signup",onSubmit:r(h),stack:!0,gap:5,children:[v.submission&&(0,i.jsx)(Y.A,{variant:"error",children:v.submission.message}),(0,i.jsxs)(u.A,{stack:!0,gap:1,children:[(0,i.jsx)(J.Ay,{as:"h3",size:1.5,weight:"semibold",tracking:"heading",children:l("announcements-subscribe-confirmation-title")}),(0,i.jsx)(J.Ay,{size:1,color:"text-medium",children:l("announcements-subscribe-confirmation-subtitle",{company:d.name})})]}),(0,i.jsxs)(u.A,{stack:!0,gap:4,children:[(0,i.jsxs)(u.A,{stack:!0,gap:3,children:[(0,i.jsx)(H.A,{...s("email",{required:!0,validate:{isEmail:et.xf}}),placeholder:l("form-label-your-email"),autoComplete:"current-email",type:"email",size:"lg",error:v.email}),(0,i.jsx)(H.A,{...s("name",{required:!0,validate:{isName:et.Eo}}),placeholder:l("form-label-your-name"),autoComplete:"name",size:"lg",error:v.name})]}),(0,i.jsxs)(u.A,{stack:!0,gap:2,children:[(0,i.jsx)(Q.A,{...s("confirm",{required:!0}),error:v.confirm,labelPosition:"right",labelAlign:"start",label:(0,i.jsxs)(J.Ay,{as:"div",size:.75,color:"text-medium",weight:"normal",className:"leading-4 max-w-4/5",children:[l("form-privacy-policy-consent")," ",(0,i.jsx)(X.A,{href:f.getCompanyPath(d,m.vc.PRIVACY_POLICY),variant:"inherit",weight:"medium",color:"text",target:"_blank",rel:"nofollow",children:l("privacy-policy")})]})}),(0,i.jsx)("div",{className:"pl-6",children:t})]})]}),(0,i.jsxs)(u.A,{gap:2,className:"ml-auto",children:[(0,i.jsx)(U.Ay,{onClick:e,variant:"secondary-ghost",size:"lg",children:l("login-cancel")}),(0,i.jsx)(U.Ay,{type:"submit",loading:x,disabled:x,size:"lg",children:l("announcements-subscribe-confirmation-submit")})]})]})};var eo=t(70576),ec=t.n(eo),el=t(77807),ed=t(61970),eu=t(3623);let em=function(e){let n=(0,el.b)(),{t}=(0,S.c3)(),{company:s}=(0,ea.P0)(),{addToast:r}=(0,B.Yf)(),{identifyGuest:o}=(0,ei.A)(),c=(0,K.v)(ec(),void 0),l=a.useRef(!1),[u,{loading:f}]=function(e){let[n,t]=(0,ed.A)(void 0);return[a.useCallback(e=>n({variables:{input:{notifications:e}}}),[n]),t]}(),h=(0,$.o)({setting:"announcementSubscribe",subtitle:t("announcements-subscribe-confirmation-subtitle",{company:s.name}),renderGuest:e=>(0,i.jsx)(er,{...e,onSubmit:()=>{l.current=!0}}),submitLabel:t("announcements-subscribe-confirmation-submit")}),x=(0,E.h1)("events"),[{data:v,loading:p,reset:b},g]=(0,eu.i)(async()=>{try{if(n?.email)return await c(),x.emit(x.types.AnnouncementsSubscribe,{guest:!1}),!0;if(!await h()){if(l.current)return x.emit(x.types.AnnouncementsSubscribe,{guest:!0}),!0;return!1}let e=await c();if(!e.data?.announcementSubscribe)throw Error();return x.emit(x.types.AnnouncementsSubscribe,{guest:!1}),e.data.announcementSubscribe.is_subscribed_to_announcement}catch(e){r({message:t("announcements-subscribe-error"),secondaryButton:{children:t("ok")}})}});async function k(){try{if(b(),!n)return void o(void 0);await u({[s.idx]:{announcementPublished:!1}})}catch(e){r({message:t("something-went-wrong"),secondaryButton:{children:t("ok")}})}}let y=v||n?.is_subscribed_to_announcement,A=!!(p&&n)||f;return y?m.lE?(0,i.jsx)(U.Ay,{...e,href:(0,d.GN)(m.vc.SETTINGS_NOTIFICATIONS),iconLeft:(0,i.jsx)(W,{className:v&&q().bell,color:"text-medium"}),children:t("announcements-subscribed")}):(0,i.jsx)(U.Ay,{...e,loading:A,disabled:A,onClick:k,iconLeft:(0,i.jsx)(W,{className:v&&q().bell}),children:t("announcements-subscribed")}):(0,i.jsx)(U.Ay,{...e,loading:A,disabled:A,onClick:g,iconLeft:(0,i.jsx)(M,{}),children:t("announcements-subscribe")})};var ef=t(43557),eh=t(79776);let ex=({children:e})=>{let[n,t]=(0,eh.Z)({category:[]}),s=a.useCallback((e,n)=>t(t=>({...t,[e]:[...t[e],n.idx]})),[]),r=a.useCallback((e,n)=>t(t=>{let i=t[e];return i.includes(n.idx)?{...t,[e]:i.filter(e=>e!==n.idx)}:"category"===e?{...t,[e]:[...i,n.idx]}:void 0}),[]),o=a.useCallback((e,n)=>t(t=>({...t,[e]:t[e].filter(e=>e!==n.idx)})),[]),c=a.useCallback(()=>{t({category:[]})},[]),l=a.useMemo(()=>({addFilter:s,filters:n,removeFilter:o,clearFilters:c,toggleFilter:r}),[n]);return(0,i.jsx)(N.Provider,{value:l,children:e})};function ev(){return ep}let ep=(0,I.wu)(({children:e})=>{(0,z.O)("announcements");let{api:n,company:t,settings:s,isNotification:r}=(0,c.pJ)(),{t:o}=(0,S.c3)(),l=(0,O.m)(),d=n.fromCache("announcements",{first:m.No,category:s.sections.announcements.categories}),[{loading:u,error:f},x]=(0,eu.i)(async e=>{let t=await n.announcements(e);return(0,T.IW)(t,l),t},{loading:!d}),[v]=s.sections.announcements.categories||[],p=!v&&!s.sections.announcements.disableFilter,b=!1!==t.settings.allowAnnouncementSubscription;return(a.useEffect(()=>{d||x({first:m.No,category:s.sections.announcements.categories})},[s.sections.announcements.categories]),f)?(0,i.jsx)(D.A,{children:(0,i.jsx)(k.A,{className:"grow items-center justify-center",children:(0,i.jsx)(y.A,{icon:ef.A,title:o("generic-error-title"),children:o("announcements-failed")})})}):(0,i.jsx)(ex,{children:(0,i.jsxs)(D.A,{children:[!r&&(0,i.jsxs)(k.A,{className:"[.header-stuck_&]:border-shade-20 empty:hidden sticky gap-3 md:static top-header translate-y-header-px z-10 justify-between items-center w-full px-6 md:px-10 py-3 md:pt-5 bg-shade-0 border-b border-transparent transition-all",children:[p&&(0,i.jsx)(L,{size:"sm"}),b&&(0,i.jsx)(em,{variant:"surface",className:"ml-auto shadow-sm grow sm:grow-0 min-w-0",size:"sm"})]}),u?(0,i.jsxs)(k.A,{as:"ul",className:"flex-col grow shrink-0 justify-start list-none overflow-auto",children:[(0,i.jsx)(h,{}),(0,i.jsx)(h,{})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R,{categoryIdx:v}),e]})]})})},"announcements"),eb=()=>null;eb.getPageLayout=ev;let eg=eb},48342:(e,n,t)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAnnouncementReactions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"announcement_idx"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"announcementReactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"announcement_idx"},value:{kind:"Variable",name:{kind:"Name",value:"announcement_idx"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnnouncementReaction"},directives:[]}]}}]}}],loc:{start:0,end:207}};i.loc.source={body:"#import './fragments/announcement-reaction.graphql'\n\nquery GetAnnouncementReactions($announcement_idx: ID!) {\n  announcementReactions(announcement_idx: $announcement_idx) {\n    ...AnnouncementReaction\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(3866).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}));var s={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),s[e.name.value]=n}}),e.exports=i,e.exports.GetAnnouncementReactions=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=s[n]||new Set,a=new Set,o=new Set;for(i.forEach(function(e){o.add(e)});o.size>0;){var c=o;o=new Set,c.forEach(function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach(function(e){o.add(e)}))})}return a.forEach(function(n){var i=r(e,n);i&&t.definitions.push(i)}),t}(i,"GetAnnouncementReactions")},60718:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});var i=t(6029);t(55729);var a=t(22295),s=t(1868);let r=({children:e,className:n})=>(0,i.jsx)(s.A,{className:(0,a.cn)(n,"flex-col grow w-full max-w-container shadow-lg bg-shade-0 mx-auto"),children:e})},61523:e=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AnnouncementsGuestSubscribe"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"announcementGuestSubscribe"},arguments:[{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[]}]}}],loc:{start:0,end:131}};n.loc.source={body:"mutation AnnouncementsGuestSubscribe($email: String!, $name: String!) {\n  announcementGuestSubscribe(email: $email, name: $name)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),t[e.name.value]=n}}),e.exports=n,e.exports.AnnouncementsGuestSubscribe=function(e,n){var a={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var s=t[n]||new Set,r=new Set,o=new Set;for(s.forEach(function(e){o.add(e)});o.size>0;){var c=o;o=new Set,c.forEach(function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(n){var t=i(e,n);t&&a.definitions.push(t)}),a}(n,"AnnouncementsGuestSubscribe")},70576:(e,n,t)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AnnouncementsSubscribe"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"announcementSubscribe"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserProfile"},directives:[]}]}}]}}],loc:{start:0,end:135}};i.loc.source={body:"#import '../user/fragments/user-profile.graphql'\n\nmutation AnnouncementsSubscribe {\n  announcementSubscribe {\n    ...UserProfile\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t(85286).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}));var s={};function r(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),s[e.name.value]=n}}),e.exports=i,e.exports.AnnouncementsSubscribe=function(e,n){var t={kind:e.kind,definitions:[r(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=s[n]||new Set,a=new Set,o=new Set;for(i.forEach(function(e){o.add(e)});o.size>0;){var c=o;o=new Set,c.forEach(function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach(function(e){o.add(e)}))})}return a.forEach(function(n){var i=r(e,n);i&&t.definitions.push(i)}),t}(i,"AnnouncementsSubscribe")},74196:e=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteAnnouncementReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"announcement_idx"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reaction_code"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Reaction"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"announcementReactionDelete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"announcement_idx"},value:{kind:"Variable",name:{kind:"Name",value:"announcement_idx"}}},{kind:"Argument",name:{kind:"Name",value:"reaction_code"},value:{kind:"Variable",name:{kind:"Name",value:"reaction_code"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idx"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:202}};n.loc.source={body:"mutation DeleteAnnouncementReaction($announcement_idx: ID!, $reaction_code: Reaction!) {\n  announcementReactionDelete(announcement_idx: $announcement_idx, reaction_code: $reaction_code) {\n    idx\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),t[e.name.value]=n}}),e.exports=n,e.exports.DeleteAnnouncementReaction=function(e,n){var a={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var s=t[n]||new Set,r=new Set,o=new Set;for(s.forEach(function(e){o.add(e)});o.size>0;){var c=o;o=new Set,c.forEach(function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(n){var t=i(e,n);t&&a.definitions.push(t)}),a}(n,"DeleteAnnouncementReaction")},75777:e=>{var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateAnnouncementReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"announcement_idx"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reaction_code"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Reaction"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"announcementReactionCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"announcement_idx"},value:{kind:"Variable",name:{kind:"Name",value:"announcement_idx"}}},{kind:"Argument",name:{kind:"Name",value:"reaction_code"},value:{kind:"Variable",name:{kind:"Name",value:"reaction_code"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idx"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:202}};n.loc.source={body:"mutation CreateAnnouncementReaction($announcement_idx: ID!, $reaction_code: Reaction!) {\n  announcementReactionCreate(announcement_idx: $announcement_idx, reaction_code: $reaction_code) {\n    idx\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}n.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),t[e.name.value]=n}}),e.exports=n,e.exports.CreateAnnouncementReaction=function(e,n){var a={kind:e.kind,definitions:[i(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var s=t[n]||new Set,r=new Set,o=new Set;for(s.forEach(function(e){o.add(e)});o.size>0;){var c=o;o=new Set,c.forEach(function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(n){var t=i(e,n);t&&a.definitions.push(t)}),a}(n,"CreateAnnouncementReaction")},79776:(e,n,t)=>{"use strict";t.d(n,{Z:()=>o});var i=t(55729),a=t(5839),s=t(85905);function r(e,n,t){let i=t.getUrl().href,a=new URL(i),{searchParams:s}=a;for(let[t,i]of Object.entries(n)){let n=c(e[t]);n!==c(i)?s.set(t,n):s.delete(t)}let r=a.toString();r!==i&&t.replace(r)}function o(e,n={}){let{checkPathname:t=!0}=n,c=(0,s.h1)("location"),l=i.useMemo(c.getUrl,[]),[d,u]=i.useState(()=>{let{query:n}=c.getUrl(),t={};for(let[i,a]of Object.entries(e))t[i]=function(e,n){let t=Array.isArray(e)?e.join(","):e;switch(typeof n){case"boolean":return!!t;case"object":return n&&Array.isArray(n)?t?.split(",")||[]:n;case"number":return t?Number(t):n;case"undefined":return"true"===t||"false"!==t&&t;default:return t||n}}(n[i],a);return t});i.useEffect(()=>{r(d,e,c)},[]);let m=(0,a.c)(n=>{let i={...d,..."function"==typeof n?n(d):n},{pathname:a}=new URL(c.getUrl().href);t&&a!==l.pathname||r(i,e,c),u(i)});return[d,m]}function c(e){return e?Array.isArray(e)?e.join(","):e?e.toString():"":""}},96570:e=>{e.exports={bell:"styles_bell__1kkja",shake:"styles_shake__ONs1t",draw:"styles_draw__XerYc"}}}]);