(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{3058:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(6029),r=n(55729),a=n(1868),s=n(87652),o=n(22040),l=n(55910),c=n(22295),d=n(17920);let u=r.forwardRef(({className:e,checked:t,defaultChecked:n,disabled:u,error:m,label:h,labelPosition:f="left",labelVariant:p,name:v,onBlur:x,onChange:g,onFocus:w,value:k,id:b=v},y)=>{let j=(0,d.N)(y);r.useEffect(()=>{j.current&&void 0!==n&&(j.current.checked=n)},[n]);let N=r.useCallback(e=>{e.stopPropagation()},[]);return(0,i.jsxs)(o.A,{className:e,children:[(0,i.jsxs)(a.A,{className:(0,c.cn)("gap-2 items-center",u&&"opacity-60 pointer-events-none","right"===f&&"flex-row-reverse"),children:[h&&(0,i.jsx)(l.A,{htmlFor:b,...p,children:h}),(0,i.jsxs)(a.A,{as:"label",htmlFor:b,className:(0,c.cn)("relative",u?"cursor-default":"cursor-pointer"),onClick:N,children:[(0,i.jsx)("input",{type:"checkbox",checked:t,defaultChecked:n,disabled:u,name:v,id:b,onBlur:x,onFocus:w,onChange:g,value:k,ref:j,className:"opacity-0 w-0 h-0 peer/input"}),(0,i.jsx)("span",{className:"w-[30px] h-[20px] rounded-full bg-shade-30 p-1 shrink-0 peer-checked/input:bg-highlight"}),(0,i.jsx)("span",{className:"absolute top-[3px] left-1 size-[14px] bg-white opacity-80 rounded-full shadow-md peer-checked/input:opacity-100 peer-checked/input:translate-x-2 transition-all"})]})]}),(0,i.jsx)(s.A,{error:m})]})})},8356:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(55729),r=n(5839);function a(e,t){let[n,a]=i.useState(!1),s=(0,r.c)(e),o=i.useRef(null);return i.useEffect(()=>{let e=t?t.current:window;if(e)return e.addEventListener("dragover",n),e.addEventListener("dragleave",i),e.addEventListener("drop",r),()=>{e.removeEventListener("dragover",n),e.removeEventListener("dragleave",i),e.removeEventListener("drop",r),o.current&&clearTimeout(o.current)};function n(e){e.preventDefault(),a(!0),o.current&&clearTimeout(o.current)}function i(){o.current=setTimeout(()=>{a(!1)},60)}function r(e){if(!(e instanceof DragEvent))return;e.preventDefault(),a(!1);let t=e.dataTransfer;t&&t.files&&t.files.length&&s(Array.from(t.files),e)}},[t]),{over:n}}},10081:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CompanyFollowersConnection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CompanyFollowersConnection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PageInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CompanyFollowerListItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:280}};i.loc.source={body:"#import './company-follower-list-item.graphql'\n#import '../../paginator/fragments/page-info.graphql'\n\nfragment CompanyFollowersConnection on CompanyFollowersConnection {\n  pageInfo {\n    ...PageInfo\n  }\n  edges {\n    node {\n      ...CompanyFollowerListItem\n    }\n    cursor\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})}i.definitions=i.definitions.concat(a(n(45522).definitions)),i.definitions=i.definitions.concat(a(n(16669).definitions));var s={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),s[e.name.value]=t}}),e.exports=i,e.exports.CompanyFollowersConnection=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,r=new Set,a=new Set;for(i.forEach(function(e){a.add(e)});a.size>0;){var l=a;a=new Set,l.forEach(function(e){r.has(e)||(r.add(e),(s[e]||new Set).forEach(function(e){a.add(e)}))})}return r.forEach(function(t){var i=o(e,t);i&&n.definitions.push(i)}),n}(i,"CompanyFollowersConnection")},16638:(e,t,n)=>{"use strict";n.d(t,{A:()=>tY});var i=n(6029),r=n(55729),a=n(43328),s=n(52831),o=n(46751),l=n(85905);class c extends r.Component{componentDidCatch(e,t){let{reporter:n,onError:i}=this.props;i?.()}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?(0,i.jsx)(s.A,{title:this.props.translator("generic-error-title"),className:"border border-shade-20 rounded-md py-12",buttons:[{children:this.props.translator("generic-error-try-again"),onClick:this.reset,size:"xs",variant:"secondary-ghost"}],children:this.props.translator("something-went-wrong")}):(0,i.jsx)(r.Fragment,{children:this.props.children})}constructor(...e){super(...e),this.state={hasError:!1},this.reset=()=>{this.setState({hasError:!1})}}}let d=e=>{let t=(0,l.h1)("reporter"),{t:n}=(0,o.c3)();return(0,i.jsx)(c,{translator:n,reporter:t,...e})};var u=n(59734),m=n(474),h=n(14509);function f(e){return"[object Object]"===Object.prototype.toString.call(e)}var p={isHistory:e=>(function(e){var t,n;return!1!==f(e)&&(void 0===(t=e.constructor)||!1!==f(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))})(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||h.I.isOperationList(e.redos[0].operations))&&(0===e.undos.length||h.I.isOperationList(e.undos[0].operations))};new WeakMap;var v=new WeakMap,x=new WeakMap,g=new WeakMap,w={isHistoryEditor:e=>p.isHistory(e.history)&&h.KE.isEditor(e),isMerging:e=>x.get(e),isSplittingOnce:e=>g.get(e),setSplittingOnce(e,t){g.set(e,t)},isSaving:e=>v.get(e),redo(e){e.redo()},undo(e){e.undo()},withMerging(e,t){var n=w.isMerging(e);x.set(e,!0),t(),x.set(e,n)},withNewBatch(e,t){var n=w.isMerging(e);x.set(e,!0),g.set(e,!0),t(),x.set(e,n),g.delete(e)},withoutMerging(e,t){var n=w.isMerging(e);x.set(e,!1),t(),x.set(e,n)},withoutSaving(e,t){var n=w.isSaving(e);v.set(e,!1);try{t()}finally{v.set(e,n)}}};function k(e,t){return(0,u.kz)(e,"link",t)}function b(e,t,n){let i=n||e.selection,r=!i||h.Q6.isCollapsed(i);(0,u.Ev)(e,{type:"link",url:t,children:r?[{text:t}]:[]},n)}function y(e,t){h.gB.unwrapNodes(e,{at:t,match:e=>!h.KE.isEditor(e)&&h.Hg.isElement(e)&&"link"===e.type})}var j=n(34787);let N={heading:"heading",blockquote:"block-quote",list:"numbered-list",code:"code-block",hr:"thematic-break",link:"link",paragraph:"paragraph"};function A(e,t={},n=!1){let i=[];for(let r of e)switch(r.type){case"text":i.push({text:r.text,...t});break;case"strong":i.push(...A(r.tokens??[],{...t,bold:!0},n));break;case"em":i.push(...A(r.tokens??[],{...t,italic:!0},n));break;case"del":i.push(...A(r.tokens??[],{...t,strikethrough:!0},n));break;case"codespan":n&&i.push({type:"code",children:[{text:r.text}]});break;case"link":n&&i.push({type:"link",url:r.href,children:A(r.tokens??[],{})});break;default:"tokens"in r&&Array.isArray(r.tokens)&&i.push(...A(r.tokens,t,n))}return i}function E(e){return A(e||[{type:"text",raw:""}],{},!0)}function C(e){return A(e||[{type:"text",raw:""}],{},!1)}var S=n(75127),z=n(20493),D=n(22295),L=n(1868),B=n(99966);let R=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"m19.3594 4.64062-14.71878 14.71878",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})})),_=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,i.jsx)("path",{d:"m4 12h8"}),(0,i.jsx)("path",{d:"m4 18v-12"}),(0,i.jsx)("path",{d:"m12 18v-12"}),(0,i.jsx)("path",{d:"m17 12 3-2v8"})]})})),F=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,i.jsx)("path",{d:"m4 12h8"}),(0,i.jsx)("path",{d:"m4 18v-12"}),(0,i.jsx)("path",{d:"m12 18v-12"}),(0,i.jsx)("path",{d:"m21 17.9998h-4c0-4 4-3 4-6 0-1.5-2-2.49998-4-1"})]})})),I=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipRule:"evenodd",d:"m5.63374 19.305-1.87082-1.8708 8.76938-8.76936 1.8708 1.87086zm10.34196-8.2206c.0063-.0059.0125-.0119.0187-.0181s.0122-.0124.0181-.0187l3.4336-3.43362c.5791-.57912.5791-1.51807 0-2.0972l-1.8949-1.89493c-.5792-.57913-1.5181-.57913-2.0972 0l-3.451 3.451c-.0004.00033-.0007.00066-.001.001-.0004.00033-.0007.00066-.001.00099l-9.3108 9.31076c-.57912.5791-.57912 1.5181 0 2.0972l1.89494 1.8949c.57913.5792 1.51808.5792 2.0972 0zm-2.3828-3.48022 2.9097-2.90962 1.8708 1.87082-2.9096 2.90962zm-6.92273-4.16693c.27614 0 .5.22385.5.5v1.69795h1.69697c.27615 0 .5.22385.5.5 0 .27614-.22385.5-.5.5h-1.69697v1.69974c0 .27614-.22386.5-.5.5-.27615 0-.5-.22386-.5-.5v-1.69974h-1.70071c-.27615 0-.5-.22386-.5-.5 0-.27615.22385-.5.5-.5h1.70071v-1.69795c0-.27615.22385-.5.5-.5zm12.95873 8.56285c0-.2762-.2239-.5-.5-.5-.2762 0-.5.2238-.5.5v1.6979h-1.698c-.2761 0-.5.2239-.5.5 0 .2762.2239.5.5.5h1.698v1.6998c0 .2761.2238.5.5.5.2761 0 .5-.2239.5-.5v-1.6998h1.6997c.2762 0 .5-.2238.5-.5 0-.2761-.2238-.5-.5-.5h-1.6997zm-4.8959 4.6248c.2761 0 .5.2239.5.5v.969h.9656c.2761 0 .5.2239.5.5 0 .2762-.2239.5-.5.5h-.9656v.9628c0 .2762-.2239.5-.5.5-.2762 0-.5-.2238-.5-.5v-.9628h-.9662c-.2762 0-.5-.2238-.5-.5 0-.2761.2238-.5.5-.5h.9662v-.969c0-.2761.2238-.5.5-.5z",fill:"currentColor",fillRule:"evenodd"})})),V=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,i.jsx)("path",{d:"m19 3h-14c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2z"}),(0,i.jsx)("path",{d:"m9 11c1.1046 0 2-.8954 2-2 0-1.10457-.8954-2-2-2-1.10457 0-2 .89543-2 2 0 1.1046.89543 2 2 2z"}),(0,i.jsx)("path",{d:"m21 14.9997-3.086-3.086c-.3751-.3749-.8837-.5856-1.414-.5856s-1.0389.2107-1.414.5856l-9.086 9.086"})]})})),O=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,i.jsx)("path",{d:"m13 4v16"}),(0,i.jsx)("path",{d:"m17 4v16"}),(0,i.jsx)("path",{d:"m19 4h-9.5c-1.19347 0-2.33807.47411-3.18198 1.31802s-1.31802 1.98851-1.31802 3.18198.47411 2.3381 1.31802 3.182 1.98851 1.318 3.18198 1.318h3.5"})]})})),M=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,i.jsx)("path",{d:"m16 12.9973 5.223 3.482c.0753.0501.1628.0789.2531.0832s.1802-.0159.2599-.0586.1464-.1062.1929-.1838.0711-.1663.0711-.2568v-8.19596c0-.08798-.0232-.17441-.0672-.25056-.0441-.07615-.1075-.13932-.1837-.18315-.0763-.04382-.1628-.06674-.2508-.06644s-.1743.02381-.2503.06815l-5.248 3.06196"}),(0,i.jsx)("path",{d:"m14 6h-10c-1.10457 0-2 .89543-2 2v8c0 1.1046.89543 2 2 2h10c1.1046 0 2-.8954 2-2v-8c0-1.10457-.8954-2-2-2z"})]})})),T=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"m5.39062 8.19531c.60157 0 1.09376-.49219 1.09376-1.09375 0-.59375-.49219-1.08594-1.09376-1.08594-.59374 0-1.08593.49219-1.08593 1.08594 0 .60156.49219 1.09375 1.08593 1.09375zm3.53907-.34375h10.01561c.4219 0 .75-.32812.75-.75 0-.41406-.3281-.74218-.75-.74218h-10.01561c-.41407 0-.74219.32812-.74219.74218 0 .42188.32812.75.74219.75zm-3.53907 4.90624c.60157 0 1.09376-.4844 1.09376-1.0859 0-.6016-.49219-1.086-1.09376-1.086-.59374 0-1.08593.4844-1.08593 1.086 0 .6015.49219 1.0859 1.08593 1.0859zm3.53907-.3359h10.01561c.4219 0 .75-.3281.75-.75 0-.4141-.3281-.75-.75-.75h-10.01561c-.41407 0-.74219.3281-.74219.75s.32812.75.74219.75zm-3.53907 4.9062c.60157 0 1.09376-.4843 1.09376-1.0859s-.49219-1.086-1.09376-1.086c-.59374 0-1.08593.4844-1.08593 1.086s.49219 1.0859 1.08593 1.0859zm3.53907-.3359h10.01561c.4219 0 .75-.3281.75-.75s-.3281-.75-.75-.75h-10.01561c-.41407 0-.74219.3281-.74219.75 0 .414.32812.75.74219.75z",fill:"currentColor"})})),P=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipRule:"evenodd",d:"m6.5 8.15625c0 .36719-.21875.53906-.52344.53906-.3125 0-.52344-.17187-.52344-.53906v-1.96875h-.01562l-.32812.21875c-.13282.08594-.1875.10156-.28126.10156-.17968.00781-.33593-.14062-.33593-.35156 0-.16406.07812-.27344.23437-.375l.52344-.35937c.20312-.13282.38281-.22657.65625-.22657.35156 0 .59375.21094.59375.54688zm12.4453-.30469h-9.74218c-.42187 0-.75-.32812-.75-.75 0-.41406.32813-.74218.75-.74218h9.74218c.4219 0 .75.32812.75.74218 0 .42188-.3281.75-.75.75zm0 4.57034h-9.74218c-.42187 0-.75-.3281-.75-.75s.32813-.75.75-.75h9.74218c.4219 0 .75.3359.75.75 0 .4219-.3281.75-.75.75zm0 4.5703h-9.74218c-.42187 0-.75-.336-.75-.75 0-.4219.32813-.75.75-.75h9.74218c.4219 0 .75.3281.75.75s-.3281.75-.75.75zm-14.18749.7578h1.95313c.22656 0 .39062-.1484.39062-.3828s-.16406-.3906-.39062-.3906h-1.03125v-.0157l.59375-.4765c.50781-.4141.72656-.6563.72656-1.1094 0-.6172-.52344-1.0234-1.35938-1.0234-.73437 0-1.26562.3672-1.26562.8515 0 .2578.16406.3907.4375.3907.17188 0 .29688-.0547.41406-.2266.10938-.1641.24219-.25.42969-.25.20313 0 .35156.1328.35156.3359 0 .1719-.09375.3125-.47656.625l-.98437.7969c-.15626.125-.21876.2656-.21876.4531 0 .2422.17188.4219.42969.4219z",fill:"currentColor",fillRule:"evenodd"})}));var $=n(24538),q=n(75913);let K=({insertNodes:e,setMode:t})=>{let{t:n}=(0,o.c3)(),{addToast:s}=(0,q.Yf)(),l=(0,m.RV)(),c=r.useRef(null),d=[{label:"Text",buttonLabel:"Add text",icon:O,onClick(){e([{type:"paragraph",children:[{text:""}]}])}},{label:"Heading 1",buttonLabel:"Add level 1 heading",icon:_,onClick(){e([{type:"heading",level:2,children:[{text:""}]}])}},{label:"Heading 2",buttonLabel:"Add level 2 heading",icon:F,onClick(){e([{type:"heading",level:3,children:[{text:""}]}])}},{label:"Divider",buttonLabel:"Add divider",icon:R,onClick(){e([{type:"thematic-break",children:[]},{type:"paragraph",children:[{text:""}]}])}},{label:"Bullet list",buttonLabel:"Add bullet list",icon:T,onClick(){e([{type:"bulleted-list",children:[{type:"list-item",children:[{text:""}]}]}])}},{label:"Numbered list",buttonLabel:"Add numbered list",icon:P,onClick(){e([{type:"numbered-list",children:[{type:"list-item",children:[{text:""}]}]}])}},{label:"Image",buttonLabel:"Add image",icon:V,children:(0,i.jsx)("input",{accept:"image/*",hidden:!0,multiple:!0,name:"image-add",onChange:function(t){let{files:i}=t.target;if(i.length){let{imageElements:t,errorMessage:r}=(0,z._X)(Array.from(i),n);r&&s({message:r,secondaryButton:{children:"Ok"}}),t.length&&e(t)}},ref:c,type:"file"}),onClick:function(){c.current&&c.current.click()}},{label:"Video",buttonLabel:"Embed video",icon:M,onClick:function(){t("embed")}},{label:"Idea",buttonLabel:"Add Idea",icon:I,onClick:function(){t("idea")}}];return(0,i.jsx)($.A,{className:"py-2 w-[180px] gap-1",items:d,trapFocus:!0,focusTrapOptions:{setReturnFocus:!1,onPostDeactivate(){(0,u.u9)(l)}},onSelect:function(e){e.onClick()},renderItem:({item:e,isSelected:t,ref:n,onMouseEnter:r})=>(0,i.jsxs)(L.A,{as:"li","aria-label":e.buttonLabel,onMouseEnter:r,className:(0,D.cn)("relative items-center gap-2 mx-2 rounded-sm p-1",t&&"bg-shade-10"),ref:n,children:[(0,i.jsx)("button",{type:"button",onClick:t=>{t?.stopPropagation(),e.onClick()},className:"absolute inset-0"}),(0,i.jsx)(e.icon,{size:"1.125rem",color:"text-medium"}),(0,i.jsx)(a.Ay,{as:"strong",size:.875,color:"text",weight:"medium",children:e.label}),e.children]},e.label)})};var W=n(60098),H=n(18893);let U=function(){async function e(e,{params:t,headers:n,signal:i}){let r=await fetch(function(e){let t=`/api/app/${e}`;return H.lE?t:`${H.fB}${t}`}(e),{method:"POST",body:JSON.stringify({params:t}),headers:{"Content-Type":"application/json",...n},signal:i});if(!r.ok){let e=(0,W.CD)(r.status);if(e){let{message:t,type:n}=await r.json();throw new e(t,n)}throw Error("Something went wrong")}return r.json()}return new Proxy({request:e},{get:(t,n)=>n in t?t[n]:(...t)=>e(n,{params:t})})}();function G(e,t){return e}let Q=[{schemes:["https://*.youtube.com/watch*","https://*.youtube.com/v/*","https://youtu.be/*","https://youtube.com/shorts/*"],url:"https://www.youtube.com/oembed",format(e,t){if("https://*.youtube.com/v/*"===t){let t=new URL(e).pathname.split("/v/")[1];if(t)return`https://www.youtube.com/watch?v=${t}`}return e}},{schemes:["https://vimeo.com/*","https://vimeo.com/album/*/video/*","https://vimeo.com/channels/*/*","https://vimeo.com/groups/*/videos/*","https://vimeo.com/ondemand/*/*","https://player.vimeo.com/video/*"],url:"https://vimeo.com/api/oembed.json",format:G},{schemes:["https://*.loom.com/share/*","https://*.loom.com/embed/*"],url:"https://www.loom.com/v1/oembed",format:G},{schemes:["https://share.descript.com/view/*"],url:"https://api.descript.com/v2/oembed",format:G},{schemes:["https://*.wistia.net/embed/iframe/*","https://wistia.com\\?wvideo=*","https://*.wistia.com/medias/*"],url:"https://fast.wistia.com/oembed.json",format(e,t){if(e.includes("?wvideo=")){let{wvideo:t}=(0,S.qA)(e);return`https://fast.wistia.net/embed/iframe/${t}`}return e}},{schemes:["https://tella.video/*","https://www.tella.tv/video/*","https://www.tella.tv/video/*/view"],url:"https://www.tella.tv/api/oembed",format:G},{schemes:["https://gumlet.tv/watch/*","https://www.gumlet.tv/watch/*"],url:"https://api.gumlet.com/v1/oembed",format:G}];async function Y(e){if(!(0,S.gU)(e))throw Error("Invalid url");let t=e.trim();if(!function(e){for(let t of Q)for(let n of t.schemes)if(RegExp(n.replace(/\*/g,"(.*)"),"i").test(e))return{provider:t,scheme:n}}(t))throw Error("Sorry, this url is not supported");try{let e=await U.getOEmbed(t);if(!e)throw Error("Missing data");return e}catch(e){if((0,W.A)(e))throw e;throw Error("Embed failed, please check the url")}}var Z=n(55133),X=n(96927),J=n(26046);let ee=r.memo(({onSubmit:e})=>{let{register:t,handleSubmit:n,formState:r}=(0,J.mN)(),{isSubmitting:s}=r,{addToast:o}=(0,q.Yf)();async function l({url:t}){try{let n=await Y(t);n?.html&&e(n)}catch(e){o({message:e.message||"Embed failed, please check the url",secondaryButton:{children:"Ok"}})}}return(0,i.jsxs)(L.A,{className:"flex-col overflow-hidden rounded",children:[(0,i.jsxs)(L.A,{as:"form",name:"embed-form",className:"relative pl-1 pr-3 py-1 w-full bg-shade-0 border-b border-shade-10",onSubmit:n(l),children:[(0,i.jsx)("input",{autoFocus:!0,placeholder:"Enter a url...",className:"py-2 pl-2 pr-4 w-full text-0.875",...t("url",{validate:{isUrl:S.gU}})}),(0,i.jsx)(Z.Ay,{type:"submit",variant:"secondary-ghost",size:"sm",disabled:s,loading:s,children:"Add"})]}),(0,i.jsxs)(a.Ay,{className:"px-3 py-1",size:.75,color:"text-medium",children:["We support Youtube, Vimeo, Loom &"," ",(0,i.jsx)(X.A,{variant:"highlight",href:H.W8.ANNOUNCEMENT_EMBED,weight:"medium",target:"_blank",children:"more"})]})]})});var et=n(21010),en=n(47995),ei=n(17939),er=n(3744);let ea=r.forwardRef(({idea:e,isSelected:t,onClick:n,onMouseEnter:r},s)=>(0,i.jsxs)(L.A,{as:"li","data-testid":"editor-idea-add-button",onMouseEnter:r,className:(0,D.cn)("relative mx-2 px-3 py-2 items-center justify-between transition-colors rounded-sm",t&&"bg-shade-10"),ref:s,children:[(0,i.jsx)("button",{type:"button",className:"absolute inset-0",onClick:n}),(0,i.jsx)(a.Ay,{size:.875,color:"text-medium",className:"mr-5 font-normal truncate",children:e.name}),e.status&&(0,i.jsx)(er.A,{label:e.status.name,color:e.status.color})]},e.idx)),es=({ideas:e,onIdeaClick:t,targetRef:n})=>(0,i.jsx)($.A,{className:"py-2 gap-1",items:e,onSelect:t,targetRef:n,renderItem:({item:e,isSelected:n,onMouseEnter:r,ref:a})=>(0,i.jsx)(ea,{idea:e,isSelected:n,onClick:()=>t(e),onMouseEnter:r,ref:a},e.idx)});var eo=n(98045),el=n(63640),ec=n(81278),ed=n(74053),eu=n(45638),em=n(7234),eh=n(48149),ef=n(44191),ep=n.n(ef),ev=n(68968);let ex=({onCancel:e,onSubmit:t,redirectToBoard:n=!1})=>{let[s,o]=(0,em.n)(ep(),{...void 0,update(e,{data:{boardCreate:t}},{variables:n}){if(!t)return;let i=n?.company_idx;(0,eh.Rc)(e,i,e=>({...e,boards:[...e.boards,t]}))}}),{company:c}=(0,ev.P0)(),d=(0,ec.useRouter)(),u=(0,l.h1)("routes");r.useEffect(()=>{m()},[]);let m=r.useCallback(async()=>{if(c.boards.length>0)return void e();let i=await s({variables:{company_idx:c.idx,input:{name:H.tm}}}),r=i?.data?.boardCreate;if(r){if(n){let e=u.getBoardRoute(r);d.push(H.vc.VIEW_BOARD,e)}t()}},[]);return o.error||!o.loading&&o.called&&!o.data?.boardCreate?(0,i.jsx)(ed.A,{children:(0,i.jsxs)(eu.A,{stack:!0,gap:1,className:"items-center",children:[(0,i.jsx)(a.Ay,{as:"h2",size:1.5,weight:"semibold",tracking:"heading",children:"Oh no"}),(0,i.jsxs)(eu.A,{stack:!0,gap:2,children:[(0,i.jsx)(a.Ay,{color:"text-medium",children:"Unable to create board."}),(0,i.jsx)(Z.Ay,{onClick:m,children:"Retry"}),(0,i.jsx)(a.Ay,{as:"button",type:"button",color:"text-medium",weight:"medium",size:.875,onClick:e,className:"text-center",children:"Cancel"})]})]})}):(0,i.jsx)(ed.A,{children:(0,i.jsxs)(eu.A,{stack:!0,gap:3,className:"items-center justify-center",children:[(0,i.jsx)(a.Ay,{as:"h2",size:1.5,weight:"semibold",tracking:"heading",children:"One moment"}),(0,i.jsx)(a.Ay,{size:1,color:"text-medium",children:"We're setting up your new board..."}),(0,i.jsx)(eo.A,{})]})})};var eg=n(70808);let ew=({redirectToBoard:e=!1})=>{let t=(0,eg.C)(t=>(0,i.jsx)(ex,{redirectToBoard:e,onCancel:t,onSubmit:t}));return(0,i.jsxs)(a.Ay,{color:"text-medium",children:["Your company does not have a board."," ",(0,i.jsx)(X.A,{variant:"highlight",onClick:()=>t(),children:"Create one now!"})]})};var ek=n(20148),eb=n(49373),ey=n.n(eb),ej=n(85458),eN=n(50769);let eA=r.memo(({onIdeaClick:e,targetRef:t})=>{var n;let{hasBoard:r,idx:s}=(0,ej.P)(),o={input:{board_idx:s},first:H.Ou},{data:l,fetchMore:c,loading:d,error:u}=(n={variables:o,notifyOnNetworkStatusChange:!0,skip:!s},(0,ek.IT)(ey(),n)),{edges:m=[],pageInfo:h}=l?.boardIdeas||{},f=m.map(e=>e.node).filter(e=>!e.deleted),p=h?.hasNextPage,v=d&&!l?.boardIdeas,x=d&&!v,g=h?.endCursor,w=(0,eN.y)(function(){!x&&g&&c({variables:{...o,after:g}})});return r?u?(0,i.jsx)(L.A,{className:"my-5 mx-auto",children:(0,i.jsx)(a.Ay,{size:.8125,color:"text-medium",children:"Ideas failed to load"})}):v?(0,i.jsxs)(L.A,{className:"my-5 mx-auto justify-center",children:[(0,i.jsx)(eo.A,{color:"highlight",size:"1.25rem",className:"mr-1"}),(0,i.jsx)(a.Ay,{size:.8125,color:"text-medium",children:"Loading Ideas..."})]}):(0,i.jsxs)(L.A,{className:"flex-col overflow-hidden",children:[(0,i.jsx)(es,{ideas:f,onIdeaClick:e,targetRef:t}),p&&w]}):(0,i.jsx)(ew,{})});var eE=n(30989),eC=n(94511);let eS=r.memo(({onIdeaClick:e})=>{let{company:t}=(0,ev.P0)(),[n,s]=r.useState(""),[o,l]=(0,eE.L)(),c=r.useRef(null),d=(0,eC.Y)(o,{wait:600}),u=l.loading,m=(l.data?.searchCompany?.ideas.edges||[]).map(e=>e.node).filter(e=>!e.deleted),h=!!n,f=l?.variables?.input?.term||"",p=!!(l.data&&n&&f.startsWith(n)),v=r.useCallback(e=>{let n=e.target.value;s(n),n&&(n.length<3||d({variables:{input:{company_idx:t.idx,show_archived:!0,show_bugs:!0,show_completed:!0,show_only_approved:!0,show_private:!0,term:n},first:10}}))},[t.idx]),x=r.useCallback(()=>{s("")},[]);return l.error?(0,i.jsx)(L.A,{className:"my-5 mx-auto",children:(0,i.jsx)(a.Ay,{size:.8125,color:"text-medium",children:"Ideas failed to load"})}):(0,i.jsxs)(L.A,{className:"flex-col overflow-hidden rounded",ref:c,children:[(0,i.jsxs)(L.A,{className:"relative px-3 py-1 w-full bg-shade-0 border-b border-shade-20",children:[(0,i.jsx)("input",{autoFocus:!0,name:"idea-search",placeholder:"Search for an Idea...",value:n,onChange:v,className:"py-2 pl-2 pr-10 w-full text-0.875"}),(0,i.jsx)(L.A,{className:"absolute inset-y-0 right-4 items-center",children:u?(0,i.jsx)(el.A,{label:"Loading ideas...",placement:"left",children:(0,i.jsx)(eo.A,{size:"0.9375rem"})}):h&&(0,i.jsx)("button",{type:"button",onClick:x,onMouseDown:e=>e.preventDefault(),className:"shrink-0 rounded-full text-text-medium",children:(0,i.jsx)(ei.A,{size:"1rem"})})})]}),p?(0,i.jsx)(i.Fragment,{children:m.length>0?(0,i.jsx)(es,{ideas:m,onIdeaClick:e,targetRef:c}):(0,i.jsx)(a.Ay,{size:.8125,color:"text-medium",className:"flex my-5 mx-auto",children:"No Ideas found"})}):(0,i.jsx)(eA,{onIdeaClick:e,targetRef:c})]})});var ez=n(46953);let eD=r.memo(({isVisible:e})=>{let t,n=(0,m.RV)(),a=(0,m.zL)(),s=(0,ez.a)(),[o,l]=r.useState("default"),c=r.useRef(!1),d=r.useRef(null),u=r.useCallback(e=>{let t=n.selection;h.gB.insertNodes(n,e,{at:t,select:e.length>1}),h.gB.removeNodes(n,{at:t,voids:!0}),d.current&&d.current.hide()},[]),f=r.useCallback(e=>{e&&u([{type:"idea",ideaIdx:e.idx,children:[]}])},[]),p=r.useCallback(e=>{u(function(e){return[{type:"embed",url:e.url,html:e.html,providerName:e.provider_name,providerUrl:e.provider_url,title:e.title,width:e.width,height:e.height,embedType:e.type,children:[{text:""}]}]}(e))},[]),v=r.useCallback(()=>{c.current=!0},[]),x=r.useCallback(()=>{c.current=!1,s()&&l("default")},[]);if("default"===o&&(!a&&!c.current||!e))return null;let g=(0,i.jsx)(L.A,{as:"button",type:"button","aria-label":"Add content",onMouseEnter:()=>{c.current=!0},onMouseLeave:()=>{c.current=!1},className:"size-6 items-center justify-center bg-shade-10 hover:bg-shade-20 transition-colors rounded-full shrink-0 animate-[fade-in_200ms_300ms_both]",children:(0,i.jsx)(en.A,{size:"1rem",color:"text-low"})});switch(o){case"idea":t=(0,i.jsx)(L.A,{className:"w-[400px] max-h-[360px] overflow-scroll-fix bg-shade-0 rounded-md flex-col",children:(0,i.jsx)(eS,{onIdeaClick:f})});break;case"embed":t=(0,i.jsx)(L.A,{className:"w-[400px] max-h-[360px] overflow-scroll-fix bg-shade-0 rounded-md flex-col",children:(0,i.jsx)(ee,{onSubmit:p})});break;default:t=(0,i.jsx)(K,{insertNodes:u,setMode:l})}return(0,i.jsx)(et.A,{placement:"right-start",ref:d,offsetX:10,offsetY:-10,overflowPadding:80,trigger:g,onOpen:v,onClose:x,children:t})}),eL=()=>{let e=(0,m.Zi)(),[t,n]=r.useState();r.useEffect(()=>{setTimeout(()=>{if(!(0,u.FP)(e))return void n(void 0);n((0,u.e_)(e))},30)},[e.selection]);let a=t?t.top+t.height/2-15:0;return(0,i.jsx)(L.A,{className:"absolute",style:{top:a,left:-46},children:(0,i.jsx)(eD,{isVisible:!!t})})},eB=r.memo(()=>{let e=(0,m.RV)();return(0,i.jsx)(L.A,{"data-testid":"editor-clickable-area",onClick:function(){h.gB.deselect(e);let t=e.children[e.children.length-1];(0,u.Vs)(t)&&(0,u.Op)(t)||h.gB.insertNodes(e,{type:"paragraph",children:[{text:""}]},{select:!1});let n=h.KE.last(e,[e.children.length-1]);h.gB.select(e,n[1]),(0,u.u9)(e)},className:"cursor-text grow min-h-0 outline-hidden",tabIndex:-1})});var eR=n(63259),e_=n(8356);let eF=r.memo(()=>{let e=(0,m.RV)(),{t}=(0,o.c3)(),{addToast:n}=(0,q.Yf)();function r(i){let{imageElements:r,errorMessage:a}=(0,z._X)(i,t);a&&n({message:a,secondaryButton:{children:t("ok")}}),r.length&&r.forEach(t=>{e.insertNode(t)})}let s=(0,e_.Z)(r);return((0,eR.M)("paste",function(e){let t=Array.from(e.clipboardData?.files??[]);t.length&&(e.stopPropagation(),e.preventDefault(),r(t))}),s.over)?(0,i.jsx)(L.A,{className:"fixed bg-shade-0 inset-0 z-dnd items-center justify-center opacity-80 pointer-events-none",children:(0,i.jsx)(a.Ay,{as:"strong",size:1,children:t("form-attachment-drop")})}):null});var eI=n(82499),eV=n(51672);let eO=({label:e,onClear:t,color:n,icon:r})=>(0,i.jsxs)(eu.A,{gap:2,className:"items-center shrink-0 px-2 py-1 text-0.75 leading-normal rounded border border-shade-20 text-text-medium",children:[(0,i.jsxs)(eu.A,{gap:1,className:"items-center",children:[r&&(0,i.jsx)(r,{size:"1rem",color:n}),(0,i.jsx)("span",{children:e})]}),(0,i.jsx)("button",{type:"button",className:"inline-flex text-low hover:text-text",onClick:t,"aria-label":`Deselect ${e}`,children:(0,i.jsx)(ei.A,{size:"0.875rem"})})]});var eM=n(95742),eT=n(11340),eP=n(14756),e$=n(13370);function eq(e){return e.isSeparator}function eK(e){return!eq(e)}let eW=r.forwardRef(({buttonLabel:e,hasSelection:t,label:n,...r},s)=>(0,i.jsxs)(eu.A,{as:"button",type:"button",gap:1,ref:s,className:(0,D.cn)("items-center justify-center shrink-0 h-7 min-w-7 z-10 rounded leading-7 border border-dashed border-current text-text-low hover:text-text hover:border-current transition-colors",t?"px-0":"pr-3 pl-2"),...r,children:[(0,i.jsx)(en.A,{size:"0.875rem",color:"inherit",className:"transition-none"}),!t&&(0,i.jsx)(a.Ay,{className:"trigger-label text-0.875 select-none",color:"current",children:n})]})),eH=({label:e,footer:t,options:n,placeholder:s="Chip...",placement:l="bottom-start",...c})=>{let{t:d}=(0,o.c3)(),[u,m]=r.useState(""),h=r.useRef(null),f=r.useRef(null);r.useEffect(()=>()=>clearTimeout(h.current),[]);let{selected:p,filtered:v}=r.useMemo(()=>{let e=n.filter(e=>!!eq(e)||(0,e$.$P)(e.label,u)),t=n.filter(e=>"isActive"in e&&e.isActive);return{filtered:e.filter((t,n)=>{if(eq(t)){let t=e[n+1];return t&&!eq(t)}return!0}),selected:t}},[n,u]),x=p.length>0,g=(0,i.jsx)(eW,{"aria-label":c["aria-label"],label:e,hasSelection:x},"trigger"),w=(0,i.jsx)("div",{className:"shrink-0 py-2 w-60",children:(0,i.jsx)(a.Ay,{size:.6875,color:"text-medium",className:"text-center p-3",children:d("search-no-results")})});return v.length&&(w=(0,i.jsx)($.A,{className:"py-2 max-h-56 w-60 gap-2",role:"listbox",items:v,canSelect:eK,onSelect:function(e){e.onClick()},targetRef:f,renderItem:({item:e,index:t,isSelected:n,ref:r,onMouseEnter:s})=>eq(e)?(0,i.jsx)(L.A,{as:"li",className:"shrink-0",children:(0,i.jsx)(eM.A,{})},t):(0,i.jsx)(L.A,{as:"li","aria-selected":e.isActive?"true":"false",role:"option",ref:r,onMouseEnter:s,className:(0,D.cn)("mx-2 flex-col text-0.8125 font-normal rounded-sm",n&&"bg-shade-10"),children:(0,i.jsxs)("button",{type:"button",className:"flex px-3 py-2 items-center w-full border-0 outline-hidden bg-transparent text-text-medium","aria-label":e.label,onClick:e.onClick,children:[e.icon&&(0,i.jsx)(e.icon,{color:e.color||"shade-30",size:"1rem",className:"mr-2"}),(0,i.jsx)(a.Ay,{size:"inherit",color:"current",className:"truncate",children:e.label}),e.isActive&&(0,i.jsx)(eP.A,{className:"mr-1 ml-auto"})]})},e.label)})),(0,i.jsxs)(L.A,{className:(0,D.cn)("gap-2 min-w-0",{"flex-row-reverse":l.includes("-end")}),ref:f,children:[(0,i.jsx)("div",{className:"shrink-0 z-10",children:(0,i.jsxs)(et.A,{onClose:function(){m("")},placement:l,trigger:g,children:[(0,i.jsxs)(L.A,{className:"flex-col",children:[(0,i.jsx)("div",{className:"p-2",children:(0,i.jsx)(eT.A,{placeholder:s,name:"filter",onChange:function(e){h.current&&clearTimeout(h.current);let t=e.target.value.toLowerCase();h.current=setTimeout(()=>{m(t)},200)},autoFocus:!0,className:"w-full text-0.875",size:"md"})}),(0,i.jsx)(eM.A,{})]}),w,t]})}),x&&(0,i.jsx)(eu.A,{gap:2,className:"overflow-scroll-fix flex-nowrap overflow-x-auto",children:p.map(e=>(0,i.jsx)(eO,{label:e.label,onClear:e.onClick,icon:e.icon,color:e.color},e.label))})]})};var eU=n(24021);let eG=(0,i.jsx)(L.A,{className:"py-2 px-3 border-t border-shade-20",children:(0,i.jsx)(X.A,{href:H.vc.SETTINGS_COMPANY_CATEGORIES,className:"user-drag-none grow text-text-medium underline text-0.75",variant:"inherit",children:"Manage categories"})}),eQ=({value:e=[],onChange:t})=>{let{data:n}=(0,eI.E)(),{query:r}=(0,l.h1)("location").getUrl(),a=(0,eV.J8)(r.language)?r.language:void 0,s=(n?.companyCategories||[]).map(n=>({onClick:()=>(function(n){if(e.includes(n.idx))return void t(e.filter(e=>n.idx!==e));t([...e,n.idx])})(n),label:(0,eV.l7)(n,a),color:n.color,icon:eU.A,isActive:e.includes(n.idx)}));return(0,i.jsx)(eH,{"aria-label":"Select categories",label:"Categories",options:s,footer:eG})};var eY=n(49988),eZ=n.n(eY);let eX=()=>(0,i.jsxs)("span",{contentEditable:!1,className:eZ().fix,children:["$",String.fromCodePoint(160)]}),eJ=({children:e})=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eX,{}),e,(0,i.jsx)(eX,{})]}),e0=({attributes:e,children:t})=>(0,i.jsx)(a.Ay,{as:"div",color:"current",size:"inherit","data-testid":"editor-element-default",...e,children:t});var e1=n(76270),e2=n(66166),e5=n(5477);let e3=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipRule:"evenodd",d:"m7.36573 18.0735-1.43908-1.4391 7.32345-7.32349 1.4391 1.43909zm8.90197-6.7807c.0042-.004.0085-.0082.0127-.0123.0041-.0042.0083-.0085.0123-.0127l2.9292-2.92919c.537-.53697.537-1.40757 0-1.94454l-1.6158-1.61585c-.537-.53697-1.4076-.53697-1.9446 0l-2.9302 2.93022c-.0039.00373-.0078.00752-.0116.01136s-.0076.00771-.0114.01161l-7.93069 7.93069c-.53697.537-.53697 1.4076 0 1.9446l1.61585 1.6158c.53697.537 1.40757.537 1.94454 0zm-1.9569-3.04255 2.323-2.32299 1.4391 1.43908-2.323 2.32299zm-6.06077-3.62512c.27614 0 .5.22386.5.5v1.375h1.37497c.2762 0 .5.22386.5.5s-.2238.5-.5.5h-1.37497v1.375c0 .27614-.22386.5-.5.5s-.5-.22386-.5-.5v-1.375h-1.375c-.27614 0-.5-.22386-.5-.5s.22386-.5.5-.5h1.375v-1.375c0-.27614.22386-.5.5-.5zm11.12497 7.37497c0-.2761-.2238-.5-.5-.5-.2761 0-.5.2239-.5.5v1.375h-1.375c-.2761 0-.5.2239-.5.5 0 .2762.2239.5.5.5h1.375v1.375c0 .2762.2239.5.5.5.2762 0 .5-.2238.5-.5v-1.375h1.375c.2762 0 .5-.2238.5-.5 0-.2761-.2238-.5-.5-.5h-1.375zm-4.25 3.875c.2762 0 .5.2239.5.5v.75h.75c.2762 0 .5.2239.5.5 0 .2762-.2238.5-.5.5h-.75v.75c0 .2762-.2238.5-.5.5-.2761 0-.5-.2238-.5-.5v-.75h-.75c-.2761 0-.5-.2238-.5-.5 0-.2761.2239-.5.5-.5h.75v-.75c0-.2761.2239-.5.5-.5z",fill:"currentColor",fillRule:"evenodd"})}));var e7=n(49639);let e9=r.memo(({ideaIdx:e})=>{let{data:t,error:n}=(0,e5.D)({variables:{input:{idea_idx:e}},fetchPolicy:"cache-first"});return n?(0,i.jsx)(L.A,{className:"p-5 w-full items-center justify-center border border-shade-20 rounded-md",children:(0,i.jsx)(s.A,{title:"Failed to load idea",icon:e3,children:"If the error persists please delete and re-add the idea."})}):t?(0,i.jsx)(e7.A,{idea:t.idea}):(0,i.jsx)(L.A,{className:"p-5 w-full items-center justify-center border border-shade-20 rounded-md",children:(0,i.jsx)(eo.A,{size:"2rem",color:"highlight"})})}),e6={left:"mr-auto",center:"mx-auto",right:"ml-auto"},e4={tl:"cursor-nwse-resize",tr:"cursor-nesw-resize",bl:"cursor-nesw-resize",br:"cursor-nwse-resize"},e8={tl:"-top-1 -left-1",tr:"-top-1 -right-1",bl:"-bottom-1 -left-1",br:"-bottom-1 -right-1"},te=({onResize:e,corner:t})=>(0,i.jsx)("button",{type:"button",className:(0,D.cn)("absolute m-px w-2 h-2 bg-white border border-solid border-highlight",e8[t],e4[t]),onMouseDown:n=>e(n,t)}),tt=r.forwardRef(({align:e,canResize:t,onResize:n,width:r,height:a},s)=>(0,i.jsx)(L.A,{contentEditable:!1,className:"select-none absolute inset-0",children:(0,i.jsxs)(L.A,{className:(0,D.cn)("relative",e6[e]),children:[(0,i.jsx)("img",{src:z.E6,alt:"empty",className:"pointer-events-none border border-solid border-highlight",width:r,height:a,ref:s}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(te,{onResize:n,corner:"tl"}),(0,i.jsx)(te,{onResize:n,corner:"tr"}),(0,i.jsx)(te,{onResize:n,corner:"bl"}),(0,i.jsx)(te,{onResize:n,corner:"br"})]})]})})),tn=({isActive:e,className:t,icon:n,onMouseDown:r,...a})=>(0,i.jsx)("button",{type:"button",onMouseDown:r,className:(0,D.cn)("flex items-center justify-center w-6 h-6 rounded-sm hover:bg-shade-10",e?"text-highlight":"text-text",t),...a,children:(0,i.jsx)(n,{color:"currentColor",size:"1.25rem"})});var ti=n(21299);let tr=(0,B.w)((0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 256 256",children:[(0,i.jsx)("rect",{width:"256",height:"256",fill:"none"}),(0,i.jsx)("rect",{x:"40",y:"88",width:"176",height:"80",rx:"8",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),(0,i.jsx)("line",{x1:"128",y1:"48",x2:"128",y2:"88",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),(0,i.jsx)("line",{x1:"128",y1:"168",x2:"128",y2:"208",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})),ta=(0,B.w)((0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 256 256",children:[(0,i.jsx)("rect",{width:"256",height:"256",fill:"none"}),(0,i.jsx)("line",{x1:"32",y1:"56",x2:"32",y2:"200",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),(0,i.jsx)("rect",{x:"64",y:"88",width:"168",height:"80",rx:"8",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]})),ts=(0,B.w)((0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 256 256",children:[(0,i.jsx)("rect",{width:"256",height:"256",fill:"none"}),(0,i.jsx)("line",{x1:"224",y1:"56",x2:"224",y2:"200",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),(0,i.jsx)("rect",{x:"24",y:"88",width:"168",height:"80",rx:"8",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})]}));var to=n(81961),tl=n(67810),tc=n(68180);let td={left:"mr-auto",center:"mx-auto",right:"ml-auto"};var tu=n(50432);let tm={"announcement-title":({attributes:e,children:t,element:n})=>{let r=(0,m.RV)();return(0,i.jsxs)("div",{...e,children:[(0,i.jsx)(a.Ay,{as:"h1",size:1.25,weight:"semibold",tracking:"heading","data-testid":"editor-element-announcement-title",className:"md:text-1.5",children:t}),(0,i.jsx)(L.A,{className:"mt-5 mb-2 select-none",contentEditable:!1,children:(0,i.jsx)(eQ,{value:n.categories,onChange:function(e){let t=m.rL.findPath(r,n);h.gB.setNodes(r,{categories:e},{at:t})}})})]})},"block-quote":({attributes:e,children:t,element:n})=>(0,i.jsx)(a.Ay,{as:"blockquote",color:"current",className:"relative py-[.25em] pl-[1.5em] before:content before:absolute before:left-[.25em] before:inset-y-0 before:w-[.25em] before:rounded before:bg-current before:opacity-20",size:"inherit",...e,children:t}),"bulleted-list":({attributes:e,children:t})=>(0,i.jsx)(eu.A,{as:"ul",stack:!0,gap:1,className:"list-disc pl-[1.5em] sm:pl-[2em]",...e,children:t}),"code-block":({attributes:e,children:t,element:n})=>(0,i.jsx)("div",{className:"w-full px-3 rounded-md bg-shade-10",...e,children:(0,i.jsx)(a.Ay,{as:"pre",size:"inherit",color:"text",className:"text-[0.875em] py-3 break-words whitespace-pre-wrap",children:t})}),"list-item":({attributes:e,children:t})=>(0,i.jsx)("li",{...e,children:t}),"numbered-list":({attributes:e,children:t})=>(0,i.jsx)(eu.A,{as:"ol",stack:!0,gap:1,className:"list-decimal pl-[1.5em] sm:pl-[2em]",...e,children:t}),"thematic-break":({attributes:e,children:t,element:n})=>{let r=(0,m.f7)(),a=(0,m.zL)();return(0,i.jsxs)("div",{...e,children:[(0,i.jsx)(L.A,{contentEditable:!1,className:"select-none pointer-events-none",children:(0,i.jsx)(eM.A,{className:(0,D.cn)("my-5 w-full",r&&a?"outline outline-selected rounded":"")})}),t]})},code:({attributes:e,children:t,element:n})=>(0,i.jsx)(a.Ay,{as:"code",...e,color:"danger",size:"inherit",className:"text-[0.875em] px-1 py-0.5 rounded-md bg-shade-10",children:(0,i.jsx)(eJ,{children:t})}),embed:({attributes:e,children:t,element:n})=>{let r=(0,m.f7)(),a=(0,m.zL)();return(0,i.jsxs)("div",{"data-testid":"editor-element-embed",...e,children:[(0,i.jsx)(L.A,{contentEditable:!1,className:"select-none pointer-events-none",children:(0,i.jsxs)(L.A,{className:"relative my-2 w-full",children:[(0,i.jsx)(e1.A,{element:n}),r&&a&&(0,i.jsx)("div",{className:"absolute inset-0 shadow-selected border border-highlight"})]})}),t]})},heading:({attributes:e,children:t,element:n})=>{let r=n.level||3,s=`h${r}`;return(0,i.jsx)(a.Ay,{as:s,tracking:"heading",...e2.D[r],...e,children:t})},idea:({attributes:e,children:t,element:n})=>{let r=(0,m.f7)(),a=(0,m.zL)();return(0,i.jsxs)("div",{"data-testid":"editor-element-idea",...e,children:[(0,i.jsx)(L.A,{contentEditable:!1,className:"select-none pointer-events-none",children:(0,i.jsx)(L.A,{className:(0,D.cn)("my-5 w-full rounded-md",r&&a?"shadow-selected":"none"),children:(0,i.jsx)(e9,{ideaIdx:n.ideaIdx})})}),t]})},image:({attributes:e,children:t,element:n})=>{let s=(0,m.f7)(),o=(0,m.zL)(),l=(0,m.RV)(),c=r.useRef(l),[d,u]=(0,tc.n)(),[{data:h,error:f},p]=(0,tl.t)("dataUrl"),v=r.useRef(n),x=r.useRef(null),g=r.useRef(null);r.useEffect(()=>{v.current=n},[n]),r.useEffect(()=>{c.current=l},[l]),r.useEffect(()=>{let e=!1,t=v.current.__file;return t&&!Array.isArray(t)&&(p(t),(async()=>{try{let n=await u(t);n&&!e&&(0,z.H3)(c.current,v.current,{url:n})}catch(e){}})()),()=>{e=!0}},[]);let w=!!(h||n.url)&&!d.error,k=n.align||"center";return(0,i.jsxs)("div",{...e,className:"relative group",children:[(0,i.jsxs)(L.A,{contentEditable:!1,className:"flex-col select-none",children:[d.error?(0,i.jsx)(L.A,{className:(0,D.cn)("pointer-events-none select-none w-full h-40 items-center justify-center border border-shade-20 text-center",s&&o&&"shadow-selected"),children:(0,i.jsxs)(a.Ay,{as:"strong",size:.6875,color:"danger",className:"leading-5",children:["Upload failed",(0,i.jsx)("br",{}),"Delete and retry"]})}):(0,i.jsxs)(L.A,{className:(0,D.cn)("relative",td[k]),children:[(0,i.jsx)("img",{src:h||(0,ti.VG)(n.url)||z.E6,alt:n.alt,ref:x,onLoad:function(e){let t=e.target;!n.width&&t&&t.naturalWidth>1&&(g.current&&(g.current.width=t.naturalWidth,g.current.height=t.naturalHeight),(0,z.H3)(c.current,v.current,{width:t.naturalWidth,height:t.naturalHeight}))},className:(0,D.cn)("pointer-events-none select-none transition-opacity",d.loading?"opacity-50":"opacity-100",f?"bg-shade-10":""),width:n.width,height:n.height}),d.loading&&(0,i.jsx)("div",{className:"pointer-events-none absolute z-1 -top-2 -right-2 bg-shade-0 p-1 rounded-full",children:(0,i.jsx)(eo.A,{className:"loading",color:"highlight",size:"1.25rem",strokeWidth:8})}),s&&o&&(0,i.jsxs)(eu.A,{contentEditable:!1,gap:1,className:(0,D.cn)("absolute top-0 -translate-x-1/2 left-1/2 -translate-y-1/2 px-3 py-1 z-editor items-center border shadow overflow-hidden rounded-md bg-shade-0 border-shade-20",td[k]),children:[(0,i.jsx)(tn,{icon:ta,isActive:"left"===k,onMouseDown:e=>{e.preventDefault(),(0,z.H3)(c.current,v.current,{align:"left"})}}),(0,i.jsx)(tn,{icon:tr,isActive:"center"===k,onMouseDown:e=>{e.preventDefault(),(0,z.H3)(c.current,v.current,{align:"center"})}}),(0,i.jsx)(tn,{icon:ts,isActive:"right"===k,onMouseDown:e=>{e.preventDefault(),(0,z.H3)(c.current,v.current,{align:"right"})}})]})]}),f&&(0,i.jsx)(L.A,{className:"absolute bottom-2 inset-x-0",children:(0,i.jsxs)(eu.A,{gap:2,className:"mx-auto py-1 px-3 items-center justify-center rounded-full border border-shade-20 shadow",children:[(0,i.jsx)(to.A,{color:"shade-30",size:"0.875rem"}),(0,i.jsx)(a.Ay,{size:.6875,color:"text-medium",children:"Preview failed"})]})})]}),t,s&&o&&(0,i.jsx)(tt,{ref:g,canResize:w,onResize:function(e,t){let n;if(e.preventDefault(),e.stopPropagation(),!x.current)return;let i=e.clientX,r=e.clientY,{clientWidth:a,clientHeight:s,naturalWidth:o,naturalHeight:c}=x.current,d=o/c;function u(e){let n=e.clientX,o=Math.round(Math.min((s-(r-e.clientY)*("bl"===t||"br"===t?1:-1))*d,a-(i-n)*("tr"===t||"br"===t?1:-1))),l=Math.round(o/d);x.current.width=o,x.current.height=l,g.current&&(g.current.width=o,g.current.height=l)}let m=e4[t];function h(){if(x.current){let e=x.current.width,t=x.current.height;(0,z.H3)(l,v.current,{width:e,height:t})}document.body.classList.remove(m),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",h),n=null}return n=()=>{h()},document.body.classList.add(m),window.addEventListener("mousemove",u),window.addEventListener("mouseup",h),()=>{n?.()}},width:n.width,height:n.height,align:k})]})},link:({attributes:e,children:t,element:n})=>(0,i.jsx)(a.Ay,{as:"a",...e,href:n.url,color:"highlight",weight:"medium",className:"underline",size:"inherit",children:(0,i.jsx)(eJ,{children:t})}),mention:({attributes:e,children:t,element:n})=>{let r=(0,m.f7)(),a=(0,m.zL)(),s=n.children[0]?.text,o=n.user;return(0,i.jsx)("span",{...e,className:"relative overflow-hidden",children:(0,i.jsxs)(eJ,{children:[(0,i.jsx)(tu.A,{focused:r&&a,selectable:!1,name:s,userIdx:o}),t]})})},paragraph:e0,title:({attributes:e,children:t,element:n})=>(0,i.jsx)(a.Ay,{as:"h1",size:1.5,weight:"semibold",tracking:"heading",...e,children:t})},th=e=>{let t=tm[e.element.type]||e0;return(0,i.jsx)(t,{...e})},tf=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"m7 5h4.9231c1.4231 0 2.5256.28718 3.3077.86154.7948.57436 1.1923 1.50116 1.1923 2.78042v.07832c0 .7049-.1667 1.31842-.5 1.84052-.3334.5091-.891.8877-1.6731 1.1357.9359.2089 1.6282.5809 2.0769 1.1161.4487.5221.6731 1.2531.6731 2.193v.0783c0 1.3054-.4103 2.2844-1.2308 2.9371-.8077.6527-1.9679.979-3.4807.979h-5.2885zm4.9808 12.1399c.8589 0 1.4871-.1893 1.8846-.5679.4102-.3785.6154-.9333.6154-1.6643v-.0783c0-.731-.2116-1.2728-.6346-1.6252-.4103-.3655-1.0898-.5483-2.0385-.5483h-2.3077v4.484zm-.3654-6.2462c.8461 0 1.4487-.1632 1.8077-.4895s.5384-.84849.5384-1.56644v-.07832c0-.66573-.1923-1.14872-.5769-1.44895s-.9872-.45035-1.8077-.45035h-2.0769v4.03356z",fill:"currentColor"})})),tp=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipRule:"evenodd",d:"m9.98098 7.53033c.29292-.29289.29292-.76777 0-1.06066-.2929-.29289-.76777-.29289-1.06066 0l-4.62743 4.62743c-.39052.3905-.39052 1.0237 0 1.4142l4.62743 4.6274c.29289.2929.76776.2929 1.06066 0 .29292-.2929.29292-.7677 0-1.0606l-4.27387-4.2739zm3.74352 0c-.2929-.29289-.2929-.76777 0-1.06066s.7678-.29289 1.0607 0l4.6274 4.62743c.3905.3905.3905 1.0237 0 1.4142l-4.6274 4.6274c-.2929.2929-.7678.2929-1.0607 0s-.2929-.7677 0-1.0606l4.2739-4.2739z",fill:"currentColor",fillRule:"evenodd"})})),tv=(0,B.w)((0,i.jsxs)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{clipRule:"evenodd",d:"m9.44455 7.13379c-.25937-.25937-.25937-.67989 0-.93926s.67985-.25937.93925 0l2.148 2.14799c.3631.36312.3631.95185 0 1.31496l-2.148 2.14802c-.2594.2593-.67988.2593-.93925 0-.25937-.2594-.25937-.6799 0-.9393l1.86625-1.8662zm-2.08496.00009c.25937-.25937.25937-.67989 0-.93926s-.67989-.25937-.93926 0l-2.14799 2.14799c-.36312.36312-.36312.95185 0 1.31497l2.14799 2.14802c.25937.2593.67989.2593.93926 0 .25937-.2594.25937-.6799 0-.9393l-1.86621-1.86621z",fill:"currentColor",fillRule:"evenodd"}),(0,i.jsx)("path",{d:"m6.5 14.5v1.8c0 .5657 0 .8485.17574 1.0243.17573.1757.45857.1757 1.02426.1757h9.6c.5657 0 .8485 0 1.0243-.1757.1757-.1758.1757-.4586.1757-1.0243l.0001-8.59999c0-.56569 0-.84854-.1758-1.02427-.1757-.17574-.4586-.17574-1.0242-.17574h-3.3",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"1.5"})]})),tx=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"m11.582 5h2.282l-1.582 14.01h-2.282z",fill:"currentColor"})})),tg=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,i.jsx)("path",{d:"m12.3334 17.5002-.8542.8542c-.7757.7632-1.82156 1.1889-2.90975 1.1845s-2.13055-.4387-2.90002-1.2081c-.76948-.7695-1.20372-1.8119-1.20815-2.9001-.00443-1.0881.42131-2.134 1.18449-2.9097l2.07195-2.0677c.74321-.74468 1.74288-1.17726 2.79448-1.20921 1.0517-.03195 2.0757.33915 2.8628 1.03741"}),(0,i.jsx)("path",{d:"m11.6666 6.50017.8542-.85422c.7757-.76318 1.8216-1.18892 2.9097-1.18449 1.0882.00443 2.1306.43868 2.9001 1.20815.7694.76947 1.2037 1.81183 1.2081 2.90002s-.4213 2.13407-1.1845 2.90977l-2.0719 2.0719c-.7438.7442-1.7438 1.1759-2.7954 1.2071s-2.0754-.3407-2.8619-1.0395"})]})})),tw=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"m4 12.2018h16.0233v1.4988h-3.3812c.2366.4968.3561 1.0413.3491 1.5916.014.522-.098 1.0398-.3266 1.5093-.2286.4696-.567.8772-.9866 1.1882-1.0106.7111-2.2298 1.0643-3.464 1.0036-.9018.0061-1.7949-.1774-2.62123-.5386-.75467-.313-1.40884-.8274-1.8911-1.4869-.44403-.6297-.67834-1.3833-.66961-2.1537v-.1133h.287v-.0011h.34121v.0011h1.3738v.1133c-.01566.3511.05377.7007.20236 1.0192.1486.3185.37196.5964.65107.81.6769.4819 1.4966.721 2.3265.6787.7325.0479 1.4607-.1437 2.0749-.5458.2277-.1684.4106-.39.5328-.6454.1222-.2555.1798-.537.1679-.8199.016-.2734-.0345-.5465-.1471-.7961s-.2839-.4682-.4993-.6372c-.0883-.0639-.18-.1231-.2747-.1771h-10.0685zm12.3528-5.13893c-.4212-.65445-1.0168-1.17825-1.7197-1.51237-.7836-.37329-1.643-.56008-2.5108-.54575-1.2102-.05194-2.39997.32377-3.36082 1.06126-.4125.31858-.74524.72876-.97192 1.19809-.22667.46933-.34107.98496-.33414 1.50612-.0035.49389.10644.98199.32133 1.42668h2.59455c-.0833-.0536-.1852-.1057-.2525-.1605-.20327-.14997-.3683-.3458-.48165-.57157-.11334-.22577-.1718-.47511-.17062-.72773-.01507-.28837.03957-.57613.15931-.8389.11974-.26278.30104-.49283.52856-.67066.5756-.39921 1.2686-.59359 1.9679-.55198.7603-.04834 1.5111.19006 2.1042.66815.2481.2336.4424.51838.5694.83457.1269.31619.1836.65623.166.99651v.11332h2.0016v-.11332c.0033-.74799-.2087-1.48114-.6107-2.11192z",fill:"currentColor"})})),tk=(0,B.w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{fill:"currentColor",children:[(0,i.jsx)("path",{d:"m10.8927 16.9274c-1.48555 0-2.62998-.3894-3.43328-1.1681-.8033-.7897-1.20495-1.9468-1.20495-3.4713v-7.288h2.21183v7.1235c0 1.0858.18707 1.8645.56121 2.3361.37414.4717 1.00139.7075 1.88169.7075.4292 0 .8033-.0494 1.1224-.1481.3192-.1097.5833-.2852.7923-.5265.2201-.2522.3797-.5812.4787-.987.1101-.4059.1651-.9159.1651-1.53v-6.9755h2.2118v7.1564c0 1.5465-.4071 2.731-1.2215 3.5536-.8033.8116-1.9917 1.2174-3.5653 1.2174z"}),(0,i.jsx)("path",{d:"m5 18.408h12v.8226h-12z"})]})})),tb=({format:e,icon:t,...n})=>{let r=(0,m.Zi)(),a=(0,u._V)(r,e);return(0,i.jsx)(tn,{...n,icon:t,isActive:a,onMouseDown:t=>{t.preventDefault(),(0,u.wh)(r,e)}})},ty=({format:e,icon:t,...n})=>{let r=(0,m.Zi)(),a=(0,u._K)(r,e);return(0,i.jsx)(tn,{...n,icon:t,isActive:a,onMouseDown:t=>{t.preventDefault(),(0,u.qj)(r,e)}})},tj=({format:e,icon:t,...n})=>{let r=(0,m.Zi)(),a=(0,u.T0)(r,e);return(0,i.jsx)(tn,{...n,icon:t,isActive:a,onMouseDown:function(t){t.preventDefault(),(0,u.s3)(r,e)}})},tN=({setMode:e,...t})=>{let n=!!k((0,m.Zi)(),void 0);return(0,i.jsx)(tn,{...t,icon:tg,isActive:n,onClick:function(t){t.preventDefault(),e("link")},onMouseDown:function(e){e.preventDefault()}})},tA=({bold:e=!0,code:t=!0,italic:n=!0,underline:r=!0,strikethrough:a=!0,link:s=!0,bulletedList:o=!0,numberedList:l=!0,codeBlock:c=!0,setMode:d})=>{let u=[[e&&(0,i.jsx)(tb,{format:"bold",icon:tf},"bold"),n&&(0,i.jsx)(tb,{format:"italic",icon:tx},"italic"),r&&(0,i.jsx)(tb,{format:"underline",icon:tk,className:"pt-0.5"},"underline"),a&&(0,i.jsx)(tb,{format:"strikethrough",icon:tw},"strikethrough")],[s&&(0,i.jsx)(tN,{setMode:d},"link")],[o&&(0,i.jsx)(ty,{format:"bulleted-list",icon:T},"bulleted-list"),l&&(0,i.jsx)(ty,{format:"numbered-list",icon:P},"numbered-list")],[t&&(0,i.jsx)(tj,{format:"code",icon:tp},"code"),c&&(0,i.jsx)(ty,{format:"code-block",icon:tv},"codeBlock")]];return(0,i.jsx)(i.Fragment,{children:u.reduce((e,t,n)=>{let r=t.filter(Boolean);return r.length&&e.length&&e.push((0,i.jsx)(L.A,{className:"w-px h-4 border-r border-shade-20"},n)),e.push(...r),e},[])})},tE=r.forwardRef(({onClose:e,onRemove:t,onSubmit:n,selection:a},s)=>{let l=(0,m.RV)(),c=r.useRef(null),{t:d}=(0,o.c3)(),u=function(e,t){let n=k(e,t);return n&&"url"in n[0]?n[0].url:""}(l,a),h=r.useCallback(t=>{t.key===H.Lb.ESC&&c.current&&(c.current.blur(),t.preventDefault(),e()),t.key===H.Lb.RETURN&&c.current&&(c.current.blur(),t.preventDefault(),n())},[]);return(0,i.jsxs)(L.A,{className:"absolute inset-0 z-1 bg-shade-0 rounded-md px-3 items-center w-full gap-3",ref:s,children:[(0,i.jsx)(L.A,{as:"input",type:"text",autoFocus:!0,ref:c,onBlur:function(){if(!c.current)return;let e=c.current.value;if(e!==u){if(!e&&u)return void y(l,a);b(l,e,a)}},onKeyDown:h,defaultValue:u,placeholder:"https://",className:"min-w-0 pr-2 grow h-6 text-0.875 leading-none disabled:opacity-60"}),!!u&&(0,i.jsx)("button",{type:"button",onClick:function(){y(l,a),t()},onMouseDown:e=>e.preventDefault(),className:"shrink-0 rounded-full text-text-medium text-0.75 border rounded-sm px-1 border-shade-20",children:d("remove")}),(0,i.jsx)("button",{type:"button",onClick:e,onMouseDown:e=>e.preventDefault(),children:(0,i.jsx)(ei.A,{color:"text-medium"})})]})});var tC=n(54079),tS=n(45508),tz=n(29377),tD=n(43625),tL=n(74395),tB=n(37190),tR=n(5839),t_=n(94722);let tF=r.forwardRef((e,t)=>{let n=r.useRef(null),a=r.useRef(null),s=(0,m.Zi)(),[o,l]=r.useState("default"),c=r.useRef(s.selection);r.useImperativeHandle(t,()=>({show:f,hide:p,ref:a}));let d=(0,tR.c)((e=!1)=>{let t=a.current;if(!t||!e&&!t.getAttribute("style"))return;let n=window.getSelection();if(!n)return;let i=n.getRangeAt(0).getBoundingClientRect(),r=window.visualViewport?window.visualViewport.offsetTop:0,s=`${(0,tC.LI)(i.top+r-t.offsetHeight,2)}px`;s!==t.style.top&&(e&&(t.style.transitionDuration="0s",t.style.transitionDelay="0s",t.style.opacity="0",t.style.transform="translateY(4px) scale(0.98)"),t.style.top=s);let o=t.offsetWidth,l=i.left-o/2+i.width/2,c=window.innerWidth-o-8;t.style.left=`${(0,tC.qE)(l,8,c)}px`,e&&(t.style.opacity="1",t.style.transform="translateY(0) scale(1)",t.style.transitionDuration=".2s",t.style.transitionDelay="0.15s")});function f(){d(!0)}function p(){a.current&&("link"===o&&a.current.contains(document.activeElement)||a.current?.removeAttribute("style"))}r.useEffect(()=>{let e=(0,tS.R)(n.current),t=(0,tz.n)(()=>d(),16);return e.forEach(e=>e.addEventListener("scroll",t)),()=>{e.forEach(e=>e.removeEventListener("scroll",t))}},[]),(0,eR.M)("resize",p),(0,t_.B)(()=>{if("default"===o&&a.current?.getAttribute("style"))return p(),!1}),r.useEffect(()=>{if(!(0,u.ZS)(s)){if("link"===o)return;p(),l("default");return}c.current={...s.selection},setTimeout(f,30)},[s.selection]);let v="object"==typeof e.buttons?e.buttons:void 0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{ref:n}),(0,i.jsx)(tL.Ay,{selector:tB.G.EDITOR,children:(0,i.jsxs)(eu.A,{ref:a,gap:2,className:"px-2 py-1 -mt-1 z-editor -top-96 -left-96 fixed items-center opacity-0 overflow-x-auto scrollbars-none border shadow transition flex ease-out-expo rounded-md bg-shade-0 border-shade-20 max-w-[calc(100vw-2rem)]",children:["link"===o&&(0,i.jsx)(tD.A,{onDeactivate:function(){setTimeout(()=>{try{if(!c.current)return;let e=h.KE.node(s,c.current);if(!e)return;let t=h.KE.next(s,{at:e[1]});if(t&&"url"in t[0]&&t[0].url){h.gB.select(s,t[1]),h.gB.collapse(s,{edge:"end"}),h.gB.move(s,{unit:"offset"});return}h.gB.select(s,c.current)}catch(e){}},30)},children:(0,i.jsx)(tE,{onClose:function(){l("default")},onRemove:function(){l("default"),c.current=s.selection},onSubmit:function(){l("default"),p()},selection:c.current})}),(0,i.jsx)(tA,{...v,setMode:l})]})})]})}),tI=({attributes:e,children:t,leaf:n})=>(n.bold&&(t=(0,i.jsx)("strong",{className:"font-semibold",children:t})),n.italic&&(t=(0,i.jsx)("em",{children:t})),n.underline&&(t=(0,i.jsx)("u",{children:t})),n.strikethrough&&(t=(0,i.jsx)("s",{children:t})),(0,i.jsx)("span",{...e,children:t}));var tV=n(58160),tO=n(67502),tM=n(19556),tT=n(14740),tP=n(93670);let t$=r.forwardRef(({mode:e,recommended:t},n)=>{let a=r.useRef(null),s=r.useRef(null),o=(0,m.Zi)(),[l,c]=r.useState(""),[d,u]=r.useState(),f=r.useRef(H.X3?null:document.body),p=!!d;r.useImperativeHandle(n,()=>({position:v,hide:()=>u(void 0)})),(0,t_.B)(()=>{if(d)return u(void 0),!1});let v=r.useCallback(()=>{let{target:e,search:t}=(0,tV.OD)(o);u(e),c(t||"")},[]),x=r.useCallback(e=>{if(!e?.idx)return;let t=(0,tV.dh)(e);h.gB.select(o,d),h.gB.insertNodes(o,[t,{text:" "}]),h.gB.move(o)},[d]);return r.useEffect(()=>{let e=(0,tS.R)(a.current),t=(0,tz.n)(()=>{(0,tV.Qq)(o,d,s.current)},16);return e.forEach(e=>e.addEventListener("scroll",t)),()=>{e.forEach(e=>e.removeEventListener("scroll",t))}},[d]),(0,tP.Q)(v,[o.selection]),(0,eR.M)("resize",v),(0,tT.N)(()=>{(0,tV.Qq)(o,d,s.current)},[d]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{ref:a}),(0,i.jsx)(tL.Ay,{selector:tB.G.EDITOR,children:(0,i.jsx)(tM.A,{ref:s,in:p,appear:!0,translateClassName:"-translate-y-1",className:"z-editor fixed",duration:200,mountOnEnter:!0,unmountOnExit:!0,children:(0,i.jsx)(eu.A,{gap:2,className:"w-[250px] items-center border shadow transition ease-out-expo overflow-hidden rounded-md bg-shade-0 border-shade-20",children:(0,i.jsx)(tO.A,{mode:e,onSelect:x,pinned:t,search:l,targetRef:f})})})})]})}),tq=r.forwardRef(({className:e,...t},n)=>(0,i.jsx)(eu.A,{stack:!0,gap:2,className:(0,D.cn)("outline-hidden",e),ref:n,...t})),tK=({attributes:e,children:t})=>(0,i.jsx)(a.Ay,{as:"span",size:"inherit",weight:"normal",...e,children:t}),tW=r.forwardRef(({autoFocus:e=!1,addButton:t=!0,children:n,className:a,clickableArea:s=!1,customSetup:o=e=>e,defaultValue:l,disableShortcuts:c=!1,dragAndDrop:d=!0,mentions:f=!1,onBlur:p,onChange:v,onFocus:x,onKeyDown:g,options:A,placeholder:z,renderPlaceholder:B=tK,toolbar:R=!0},_)=>{let F=r.useMemo(()=>(0,u.Bu)(l),[]),I=r.useRef(null),V=r.useRef(null),O=r.useRef(null),M=r.useRef(e),T=r.useMemo(()=>o(function(e={}){let t=(0,m.o$)((e=>{var{apply:t}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:t}=e,{redos:n}=t;if(n.length>0){var i=n[n.length-1];i.selectionBefore&&h.gB.setSelection(e,i.selectionBefore),w.withoutSaving(e,()=>{h.KE.withoutNormalizing(e,()=>{for(var t of i.operations)e.apply(t)})}),t.redos.pop(),e.writeHistory("undos",i)}},e.undo=()=>{var{history:t}=e,{undos:n}=t;if(n.length>0){var i=n[n.length-1];w.withoutSaving(e,()=>{h.KE.withoutNormalizing(e,()=>{for(var t of i.operations.map(h.I.inverse).reverse())e.apply(t);i.selectionBefore&&h.gB.setSelection(e,i.selectionBefore)})}),e.writeHistory("redos",i),t.undos.pop()}},e.apply=n=>{var{operations:i,history:r}=e,{undos:a}=r,s=a[a.length-1],o=s&&s.operations[s.operations.length-1],l=w.isSaving(e),c=w.isMerging(e);if(null==l&&(l="set_selection"!==n.type),l){let t,l;if(null==c&&(c=null!=s&&(0!==i.length||(t=n,!!((l=o)&&"insert_text"===t.type&&"insert_text"===l.type&&t.offset===l.offset+l.text.length&&h.wA.equals(t.path,l.path)||l&&"remove_text"===t.type&&"remove_text"===l.type&&t.offset+t.text.length===l.offset&&h.wA.equals(t.path,l.path))))),w.isSplittingOnce(e)&&(c=!1,w.setSplittingOnce(e,void 0)),s&&c)s.operations.push(n);else{var d={operations:[n],selectionBefore:e.selection};e.writeHistory("undos",d)}for(;a.length>100;)a.shift();r.redos=[]}t(n)},e.writeHistory=(t,n)=>{e.history[t].push(n)},e})((0,h.ie)())),{markdown:n,shortcuts:i=u.YV}=e,{deleteBackward:r,deleteFragment:a,insertBreak:s,insertData:o,insertText:l,isBlock:c,isInline:d,isVoid:f,normalizeNode:p}=t;return t.isVoid=e=>u.v1.has(e.type)||f(e),t.isBlock=e=>u.yd.has(e.type)||c(e),t.isInline=e=>u.MV.has(e.type)||d(e),t.insertBreak=()=>{let[e]=Array.from(h.KE.nodes(t,{match:e=>h.Hg.isElement(e)&&"heading"===e.type}));if(e){let[,n]=e,i=h.KE.end(t,n);if(h.bR.equals(t.selection.anchor,i))return void h.gB.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:i,select:!0})}if((0,u.nW)(t))return void h.gB.insertText(t,"\n");if((0,u.ji)(t))return void(0,u.oQ)(t,{isDelete:!1});let[n]=Array.from(h.KE.nodes(t,{match:e=>t.isVoid(e)}));if(n){let[,e]=n,i=h.KE.end(t,e);h.gB.insertNodes(t,{type:"paragraph",children:[{text:""}]},{at:i,select:!0});return}if(k(t,void 0)&&!(0,u.fq)(t)){s(),y(t);return}s()},t.insertText=e=>{if(e&&(0,S.gU)(e))return void b(t,e);let{selection:n}=t;if(i&&(0,u.T0)(t,"paragraph")&&n&&h.Q6.isCollapsed(n)){let{anchor:r}=n,a=h.KE.above(t,{match:e=>h.Hg.isElement(e)&&h.KE.isBlock(t,e)}),s=a?a[1]:[],o={anchor:r,focus:h.KE.start(t,s)},l=i[h.KE.string(t,o)+e];if(l){h.gB.select(t,o),h.Q6.isCollapsed(o)||h.gB.delete(t);let{type:e,...n}=l;(0,u.qj)(t,e,n);return}}l(e)},t.insertData=e=>{let i=e.getData("text/plain");if(i&&(0,S.gU)(i))return void b(t,i);if((0,u.GM)(t))return void h.gB.insertText(t,i);if(!1!==n&&i&&[/^#{1,6} /m,/(\*\*|__)(.*?)\1/,/(\*|_)(.*?)\1/,/(`{1,3})(.*?)\1/,/\[(.*?)\]\((.*?)\)/,/^> /m,/^[-*+] /m,/^\d+\. /m,/---|\*\*\*|___/,/!\[.*?\]\(.*?\)/].some(e=>e.test(i))){let{elements:e}=function(e,t={}){let{allowedElements:n=u.gN}=t,i=(0,j.lu)(e),r=[],a=0;for(let e of i)switch(N[e.type]&&!n.includes(N[e.type])&&(e.type="paragraph"),e.type){case"heading":{let t={type:"heading",level:Math.max(2,e.depth),children:C(e.tokens)};r.push(t);break}case"blockquote":{let t={type:"block-quote",children:e.tokens.map(e=>({type:"paragraph",children:E(e.tokens)}))};r.push(t);break}case"list":{let t=e.items.map(e=>({type:"list-item",children:e.tokens[0].tokens?E(e.tokens[0].tokens):[{text:""}]}));if(e.ordered){let e={type:"numbered-list",children:t};r.push(e)}else{let e={type:"bulleted-list",children:t};r.push(e)}break}case"code":{let t={type:"code-block",children:[{text:e.text}]};r.push(t);break}case"hr":{let e={type:"thematic-break",children:[{text:""}]};r.push(e);break}case"link":{let t={type:"link",url:e.href,children:C(e.tokens)};r.push(t);break}case"paragraph":{if(e.tokens?.length===1&&"image"===e.tokens[0].type){let t=e.tokens[0],n={type:"image",url:t.href,alt:t.text,width:void 0,height:void 0,align:"left",children:[{text:""}]};r.push(n);break}let t={type:"paragraph",children:E(e.tokens)};r.push(t);break}default:a++}return{elements:r,skipped:a}}(i,n);if(e.length>0){(0,u.fq)(t)&&h.gB.removeNodes(t),h.gB.insertNodes(t,e),h.gB.insertNodes(t,{type:"paragraph",children:[{text:""}]},{select:!0});return}}o(e)},t.deleteFragment=e=>{if((0,u.Xu)(t)){let[n]=h.KE.parent(t,t.selection,{edge:"start"}),[i]=h.KE.parent(t,t.selection,{edge:"end"});if((0,u.oG)(n)!==(0,u.oG)(i)){a(e),(0,u.oQ)(t,{isDelete:!0});return}}a(e)},t.deleteBackward=(...e)=>{if((0,u.fq)(t)){let[e]=Array.from(h.KE.nodes(t,{match:e=>h.Hg.isElement(e)&&"heading"===e.type}));if(e){let[n,i]=e,r=(0,u.Op)(n),a=h.KE.start(t,i);if(r&&h.bR.equals(t.selection.anchor,a))return void h.gB.removeNodes(t,{at:t.selection})}if((0,u.Xu)(t))return void(0,u.oQ)(t,{isDelete:!0});let n=h.KE.previous(t,{at:t.selection,match:e=>h.Hg.isElement(e)});if(n&&h.Hg.isElement(n[0])){let e=n[0];if(t.isVoid(e)){h.gB.removeNodes(t,{at:t.selection}),h.gB.select(t,n[1]);return}}if((0,u.ji)(t))return void(0,u.oQ)(t,{isDelete:!0})}r(...e)},t.normalizeNode=e=>{let[n,i]=e;if((0,u.VC)(n))for(let[e,n]of Array.from(h.bP.children(t,i)))h.EY.isText(e)||h.gB.unwrapNodes(t,{at:n,mode:"lowest"});!function(e,[t,n]){if((0,u.Lv)(t))for(let[t,i]of Array.from(h.bP.children(e,n))){if((0,u.Lv)(t))return void h.gB.unwrapNodes(e,{at:i});if(!(0,u.oG)(t))return void h.gB.setNodes(e,{type:"list-item"},{at:i})}}(t,e),p([n,i])},t}(A)),[]);r.useImperativeHandle(_,()=>T),(0,tT.N)(()=>{e&&(0,u.u9)(T)},[]);let P=r.useCallback(e=>{if(g?.(e),H.H8?e.ctrlKey:e.metaKey)switch(e.key){case"b":e.preventDefault(),(0,u.wh)(T,"bold");return;case"i":e.preventDefault(),(0,u.wh)(T,"italic");return;case"u":e.preventDefault(),(0,u.wh)(T,"underline");return}},[]);function $(e){let t=I.current,n=O.current?.ref.current;if(!t||e?.type==="focusout"&&null!==e.relatedTarget)return;let i=document.activeElement,r=M.current,a=t===i||t.contains(i),s=n?.contains(i),o=a||s;r&&!o&&(O.current?.hide(),V.current?.hide(),p?.()),o&&!r&&(V.current?.position(),x?.()),M.current=o}return(0,eR.M)("focusout",$),(0,eR.M)("focusin",$),r.useEffect($,[]),(0,i.jsx)(L.A,{className:"relative flex-col grow",ref:I,tabIndex:-1,children:(0,i.jsx)(m.A,{editor:T,initialValue:F,onValueChange:v,children:(0,i.jsxs)(L.A,{className:(0,D.cn)("grow flex-col",a),children:[R&&(0,i.jsx)(tF,{buttons:R,ref:O}),(0,i.jsx)(m.Fo,{as:tq,autoFocus:e,className:!s&&"grow","data-disable-shortcuts":c,onKeyDown:P,placeholder:z,renderPlaceholder:B,renderElement:th,renderLeaf:tI}),s&&(0,i.jsx)(eB,{}),t&&(0,i.jsx)(eL,{}),f&&(0,i.jsx)(t$,{...f,ref:V}),d&&(0,i.jsx)(eF,{}),n]})})})}),tH=r.memo(tW),tU={markdown:{allowedElements:["block-quote","bulleted-list","code","code-block","embed","link","list-item","mention","numbered-list","paragraph","thematic-break","title"]},shortcuts:{...u.ts,...u.U0}},tG=r.forwardRef(({onError:e,options:t=tU,...n},a)=>{let s=r.useRef(null);return r.useImperativeHandle(a,()=>({content:()=>s.current?.children,focus(){s.current&&(0,u.u9)(s.current)},blur(){s.current&&(0,u.hs)(s.current)},reset(){s.current&&(0,u.Z0)(s.current)},selectAll(){(0,u.Ub)(s.current)}})),(0,i.jsx)(d,{onError:e,children:(0,i.jsx)(tH,{...n,addButton:!1,disableShortcuts:!0,dragAndDrop:!1,options:t,ref:s,renderPlaceholder:tQ})})}),tQ=({attributes:e,children:t})=>(0,i.jsx)(a.Ay,{as:"span",size:"inherit",weight:"normal",color:"text-low",...e,style:{...e.style,opacity:1},children:t}),tY=tG},20493:(e,t,n)=>{"use strict";n.d(t,{A6:()=>o,E6:()=>s,H3:()=>l,_X:()=>c});var i=n(14509),r=n(474),a=n(32029);let s="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function o(e){return i.Hg.isElement(e)&&"image"===e.type}function l(e,t,n){let a=r.rL.findPath(e,t);a&&(n.url&&(n.__file=void 0),i.gB.setNodes(e,n,{at:a}))}function c(e,t){let{files:n,errorMessage:i}=(0,a.J)(e,t);return{errorMessage:i,imageElements:n.map(e=>({type:"image",children:[{text:e.name.split(".").slice(0,-1).join(".")}],url:"",alt:e.name.split(".").slice(0,-1).join("."),__file:e}))}}},22294:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CompanyUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CompanyUser"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"follower_idx"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idx"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"invite_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[]}]}}],loc:{start:0,end:108}};t.loc.source={body:"fragment CompanyUser on CompanyUser {\n  avatar\n  email\n  follower_idx\n  idx\n  invite_status\n  name\n  role\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}t.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.CompanyUser=function(e,t){var r={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var a=n[t]||new Set,s=new Set,o=new Set;for(a.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach(function(e){o.add(e)}))})}return s.forEach(function(t){var n=i(e,t);n&&r.definitions.push(n)}),r}(t,"CompanyUser")},24021:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(6029);n(55729);let r=(0,n(99966).w)((0,i.jsx)("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M8 11.5C9.933 11.5 11.5 9.933 11.5 8C11.5 6.067 9.933 4.5 8 4.5C6.067 4.5 4.5 6.067 4.5 8C4.5 9.933 6.067 11.5 8 11.5ZM8 13C10.7614 13 13 10.7614 13 8C13 5.23858 10.7614 3 8 3C5.23858 3 3 5.23858 3 8C3 10.7614 5.23858 13 8 13Z"})}))},25268:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(6029);n(55729);let r=(0,n(99966).w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{clipRule:"evenodd",d:"m10.4697 18.5303c.2929.2929.7677.2929 1.0606 0s.2929-.7677 0-1.0606l-4.71964-4.7197h12.18934c.4142 0 .75-.3358.75-.75s-.3358-.75-.75-.75h-12.18934l4.71964-4.71967c.2929-.29289.2929-.76777 0-1.06066s-.7677-.29289-1.0606 0l-6.00003 6.00003c-.14645.1464-.21967.3384-.21967.5303 0 .1017.02024.1987.05691.2871.0366.0884.09085.1713.16276.2432z",fill:"currentColor",fillRule:"evenodd"})}))},32029:(e,t,n)=>{"use strict";n.d(t,{J:()=>s,q:()=>a});var i=n(15552),r=n(18893);function a(e,t){let{files:n,errorMessage:r}=s(e,t);return{attachments:n.map((e,t)=>({name:e.name.split(".").slice(0,-1).join("."),type:e.type,file:e,idx:(0,i.SL)(),url:""})),errorMessage:r}}function s(e,t){let n=[],i=e.filter(e=>!!e.type.startsWith("image/")&&(!(e.size>r.O4.bytes)||(n.push(e.name),!1)));return{errorMessage:n.length?t(n.length>1?"form-validation-error-file-size-plural":"form-validation-error-file-size",{limit:r.O4.label}):"",files:i}}},33586:e=>{e.exports={"shadow-left":"styles_shadow-left__4vKEx","shadow-right":"styles_shadow-right__tYZ0N","size--md":"styles_size--md__60jEN","variant--canvas":"styles_variant--canvas__89eD8"}},42875:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCategories"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"companyCategories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Category"},directives:[]}]}}]}}],loc:{start:0,end:106}};i.loc.source={body:"#import './fragments/category.graphql'\n\nquery GetCategories {\n  companyCategories {\n    ...Category\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n(49756).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}));var a={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=i,e.exports.GetCategories=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;for(i.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(t){var i=s(e,t);i&&n.definitions.push(i)}),n}(i,"GetCategories")},44191:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateBoard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"company_idx"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BoardCreateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardCreate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"company_idx"},value:{kind:"Variable",name:{kind:"Name",value:"company_idx"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Board"},directives:[]}]}}]}}],loc:{start:0,end:183}};i.loc.source={body:"#import './fragments/board.graphql'\n\nmutation CreateBoard($company_idx: ID!, $input: BoardCreateInput!) {\n  boardCreate(company_idx: $company_idx, input: $input) {\n    ...Board\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n(46450).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}));var a={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=i,e.exports.CreateBoard=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;for(i.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(t){var i=s(e,t);i&&n.definitions.push(i)}),n}(i,"CreateBoard")},45508:(e,t,n)=>{"use strict";function i(e,t={}){try{let n=document.querySelector(e);if(!n)return;n.scrollIntoView?.();let{offset:i=0,offsetHeader:r=!1}=t;r&&(i+=function(){let e=document.getElementById("header");return e?.clientHeight||0}()),i>0&&window.scrollTo({top:n.offsetTop-i,left:0,behavior:"smooth"})}catch(e){}}function r(e){let t=[],n=e;for(;n;){if(function(e){if(e.scrollHeight>e.clientHeight)return!0;let t=window.getComputedStyle(e).overflowY;return t.includes("auto")||t.includes("scroll")}(n)){if(n===document.body.parentElement){t.push(window);break}t.push(n)}n=n.parentElement}return t}n.d(t,{P:()=>i,R:()=>r})},45522:e=>{var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CompanyFollowerListItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CompanyFollower"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blocked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deleted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idx"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_login_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"protected"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:162}};t.loc.source={body:"fragment CompanyFollowerListItem on CompanyFollower {\n  avatar\n  blocked\n  deleted\n  idx\n  joined_at\n  last_login_at\n  name\n  roles\n  protected {\n    email\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}t.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.CompanyFollowerListItem=function(e,t){var r={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var a=n[t]||new Set,s=new Set,o=new Set;for(a.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach(function(e){o.add(e)}))})}return s.forEach(function(t){var n=i(e,t);n&&r.definitions.push(n)}),r}(t,"CompanyFollowerListItem")},49373:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBoardIdeasList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BoardIdeasInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"20"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardIdeas"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdeaConnection"},directives:[]}]}}]}}],loc:{start:0,end:227}};i.loc.source={body:"#import '../idea/fragments/idea-connection.graphql'\n\nquery GetBoardIdeasList($input: BoardIdeasInput!, $first: Int = 20, $after: String) {\n  boardIdeas(input: $input, first: $first, after: $after) {\n    ...IdeaConnection\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n(54503).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}));var a={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=i,e.exports.GetBoardIdeasList=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;for(i.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(t){var i=s(e,t);i&&n.definitions.push(i)}),n}(i,"GetBoardIdeasList")},49988:e=>{e.exports={fix:"styles_fix__peyxg"}},51478:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var i=n(6029),r=n(43501);n(55729);var a=n(7422);let s=({size:e=1.5})=>(0,i.jsx)(a.A,{className:r.LR[e],borderRadius:"full",width:"",height:""})},53062:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(6029);n(55729);let r=(0,n(99966).w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",children:[(0,i.jsx)("path",{d:"m17.4545 9h-10.90905c-.30124 0-.54545.3078-.54545.6875v9.625c0 .3797.24421.6875.54545.6875h10.90905c.3013 0 .5455-.3078.5455-.6875v-9.625c0-.3797-.2442-.6875-.5455-.6875z"}),(0,i.jsx)("path",{d:"m9 9v-2.66667c0-.88405.31607-1.7319.87868-2.35702.56262-.62512 1.32572-.97631 2.12132-.97631s1.5587.35119 2.1213.97631.8787 1.47297.8787 2.35702v2.66667"})]})}))},55991:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(6029),r=n(55729),a=n(1868),s=n(43328),o=n(22295),l=n(46751),c=n(63259),d=n(8356);let u=r.memo(({className:e,element:t,onFile:n})=>{let{t:r}=(0,l.c3)();return((0,c.M)("paste",function(e){let t=Array.from(e.clipboardData?.files??[]);t.length&&(e.stopPropagation(),e.preventDefault(),n(t))},t),(0,d.Z)(n,t).over)?(0,i.jsx)(a.A,{className:(0,o.cn)("absolute z-dnd bg-shade-0 inset-0 items-center justify-center opacity-80 pointer-events-none",e),children:(0,i.jsx)(s.Ay,{as:"strong",size:1,children:r("form-attachment-drop")})}):null})},58160:(e,t,n)=>{"use strict";n.d(t,{OD:()=>d,OM:()=>l,Qq:()=>c,dh:()=>o});var i=n(14509),r=n(474),a=n(59734),s=n(16292);function o(e){return{type:"mention",user:e.idx,children:[{text:e.name}]}}function l(e){return(0,a.sC)(e).reduce((e,t)=>("type"in t&&"mention"===t.type&&e.push(t.user),e),[])}function c(e,t,n){if(!t||!n)return;let i=r.rL.toDOMRange(e,t);if(i){let e=i.getBoundingClientRect(),t=(0,s.O)()?0:window.pageYOffset,r=`${e.top+t+24}px`,a=`${e.left+window.pageXOffset}px`;n.style.top=r,n.style.left=a}}function d(e){let{selection:t}=e;if(t&&i.Q6.isCollapsed(t)){let[n]=i.Q6.edges(t),r=i.KE.before(e,n,{distance:1}),a=r&&i.KE.range(e,r,n),s=a&&i.KE.string(e,a),o=i.KE.before(e,n,{unit:"word"}),l=o&&i.KE.before(e,o),c=l&&i.KE.range(e,l,n),d=c?i.KE.string(e,c):"";if(d.startsWith(".")){let t=i.KE.before(e,n,{unit:"line"}),r=t&&i.KE.range(e,t,n),a=(r?i.KE.string(e,r):"").split("@").pop()||"";if(a){d="@"+a;let t=i.KE.before(e,n,{distance:d.length});c=i.KE.range(e,t,n)}}let u=d.match(/^@([\w.]+)$/),m=i.KE.after(e,n),h=i.KE.range(e,n,m),f=i.KE.string(e,h).match(/^(\s|$)/);if("@"===s||u&&f)return{target:"@"===s?a:c||a,search:u?.[1]||""}}return{target:void 0,search:""}}},59772:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(6029);n(55729);let r=(0,n(99966).w)((0,i.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"m11.9051 16.207 4.2907-6.26093c.6464-.94304.4221-2.24282-.5009-2.90314-.9231-.66033-2.1952-.43114-2.8415.5119l-4.87588 7.11477c-1.05023 1.5324-.68572 3.6445.81416 4.7175 1.49982 1.0731 3.56712.7006 4.61732-.8318l4.7297-6.9013c1.508-2.20039.9845-5.23321-1.1692-6.77397-2.1535-1.54075-5.122-1.00598-6.63 1.19444l-4.3395 6.33203",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}))},63259:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var i=n(55729),r=n(5839);function a(e,t,n,a){let s=(0,r.c)(t);i.useEffect(()=>{let t=n?n.current:window;if(!t)return;let i=e=>s(e);return t.addEventListener(e,i,a?{passive:!0}:void 0),()=>{t.removeEventListener(e,i)}},[e,n,a,s])}},67502:(e,t,n)=>{"use strict";n.d(t,{A:()=>z});var i=n(6029),r=n(55729),a=n(43501),s=n(1868),o=n(14756),l=n(24538),c=n(45638),d=n(43328),u=n(51478),m=n(7422);let h=()=>(0,i.jsxs)(c.A,{as:"ol",stack:!0,gap:1,className:"w-full p-2",children:[(0,i.jsx)(f,{}),(0,i.jsx)(f,{})]}),f=()=>(0,i.jsxs)(c.A,{gap:3,as:"li",className:"w-full items-center px-3 py-2",children:[(0,i.jsx)(u.b,{size:1.5}),(0,i.jsx)(m.A,{width:"130px",height:"21px",shrink:!0})]});var p=n(20148),v=n(78217),x=n.n(v),g=n(55922),w=n(22295),k=n(18893),b=n(79897),y=n(46751),j=n(50769);let N=({onSelect:e,pinned:t=[],search:n,selected:u,targetRef:m})=>{var f;let{data:v,fetchMore:N,loading:A,error:E}=(f={fetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0,ssr:!1,variables:{first:k.wy,sort_by:b.Rt.Name,name_filter:n,show_blocked:!1}},(0,p.IT)(x(),f)),{t:C}=(0,y.c3)(),{edges:S=[],pageInfo:z}=v?.companyFollowers||{},D=(0,g.pD)([...n?[]:t,...S.map(e=>e.node).filter(e=>!e.deleted)],e=>e.idx),L=A&&!v?.companyFollowers,B=z?.hasNextPage,R=r.useCallback(()=>{!A&&z&&N({variables:{first:k.wy,after:z.endCursor,sort_by:b.Rt.Name}})},[A,z]),_=(0,j.y)(R);return E?(0,i.jsx)("div",{className:"py-5 shrink-0 w-full",children:(0,i.jsx)(d.Ay,{size:.875,color:"text-medium",className:"text-center",children:C("search-users-error")})}):L?(0,i.jsx)(h,{}):D.length?(0,i.jsxs)("div",{className:"min-w-0 w-full",children:[(0,i.jsx)(l.A,{className:"py-2 max-h-[200px] gap-1",defaultIndex:0,deselectOnMouseLeave:!1,role:"listbox",items:D,onSelect:e,targetRef:m,renderItem:({index:t,item:n,isSelected:r,ref:l,onMouseEnter:m})=>{let h=u?.includes(n.idx);return(0,i.jsx)(s.A,{as:"li","aria-selected":r?"true":"false",role:"option",ref:l,onMouseEnter:m,className:(0,w.cn)("mx-2 flex-col text-0.8125 font-normal rounded-sm",r&&"bg-shade-10"),children:(0,i.jsxs)("button",{type:"button",className:"flex px-3 py-2 items-center justify-between w-full border-0 outline-hidden bg-transparent text-text-medium",onClick:()=>e(n),children:[(0,i.jsxs)(c.A,{gap:2,className:"min-w-0 pr-1 items-center",children:[(0,i.jsx)(a.Ay,{name:n.name,image:n.avatar,size:1.5}),(0,i.jsxs)(s.A,{className:"text-left flex-col -gap-0.5 min-w-0",children:[(0,i.jsx)(d.Ay,{color:"text",size:.8125,className:"shrink truncate",children:n.name}),n.protected?.email&&(0,i.jsx)(d.Ay,{color:"text-low",size:.6875,className:"shrink-1000 truncate",children:n.protected.email})]})]}),h&&(0,i.jsx)(o.A,{color:"text",className:"shrink-0"})]})},n.idx||t)}}),B&&_]}):(0,i.jsx)("div",{className:"py-5 shrink-0 w-full",children:(0,i.jsx)(d.Ay,{size:.875,color:"text-medium",className:"text-center",children:C("search-users-no-results")})})};var A=n(97900),E=n.n(A),C=n(13370);let S=({onSelect:e,search:t,selected:n,targetRef:u})=>{let{data:m,loading:f,error:v}=(0,p.IT)(E(),void 0),{t:x}=(0,y.c3)(),g=r.useMemo(()=>m?.companyUsers?C.$P?m.companyUsers.filter(e=>(0,C.$P)(`${e.name} ${e.email}`,t)):m.companyUsers:[],[m,t]),k=r.useCallback(({name:t,follower_idx:n})=>{e({name:t,idx:n})},[e]);return v?(0,i.jsx)("div",{className:"py-5 shrink-0 w-full",children:(0,i.jsx)(d.Ay,{size:.875,color:"text-medium",className:"text-center",children:x("search-users-error")})}):f?(0,i.jsx)(h,{}):g.length?(0,i.jsx)("div",{className:"min-w-0 w-full",children:(0,i.jsx)(l.A,{className:"py-2 max-h-[200px] gap-1",defaultIndex:0,deselectOnMouseLeave:!1,role:"listbox",items:g,onSelect:k,targetRef:u,renderItem:({index:e,item:t,isSelected:r,ref:l,onMouseEnter:u})=>{let m=n?.includes(t.idx);return(0,i.jsx)(s.A,{as:"li","aria-selected":r?"true":"false",role:"option",ref:l,onMouseEnter:u,className:(0,w.cn)("mx-2 flex-col text-0.8125 font-normal rounded-sm",r&&"bg-shade-10"),children:(0,i.jsxs)("button",{type:"button",className:"flex px-3 py-2 items-center justify-between w-full border-0 outline-hidden bg-transparent text-text-medium",onClick:()=>k(t),children:[(0,i.jsxs)(c.A,{gap:3,className:"min-w-0 pr-2",children:[(0,i.jsx)(a.Ay,{name:t.name,image:t.avatar,size:1.5}),(0,i.jsx)(d.Ay,{color:"text",size:.8125,className:"truncate",children:t.name})]}),m&&(0,i.jsx)(o.A,{color:"text",className:"shrink-0"})]})},t.idx||e)}})}):(0,i.jsx)("div",{className:"py-5 shrink-0 w-full",children:(0,i.jsx)(d.Ay,{size:.875,color:"text-medium",className:"text-center",children:x("search-users-no-results")})})},z=({mode:e,...t})=>"team"===e?(0,i.jsx)(S,{...t}):(0,i.jsx)(N,{...t})},67810:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var i=n(55729),r=n(3623),a=n(43179);let s={text:a.Qv,dataUrl:a.C2,buffer:a.Fy};function o(e){let t=function(e){let t=i.useRef(null),n=s[e];return i.useEffect(()=>()=>{t.current&&t.current.abort()},[]),i.useCallback(e=>{if(!n)return;let{reader:i,promise:r}=n(e);return t.current=i,r},[])}(e);return(0,r.i)(t)}},71895:(e,t,n)=>{"use strict";n.d(t,{g:()=>l,r:()=>o});var i=n(55729),r=n(85905),a=n(53490),s=n(46953);function o(e,t){let n=(0,s.a)(),o=(0,r.h1)("storage"),l=i.useRef(e),c=(0,a.J)(),[d,u]=i.useState(()=>c?o.get(e,t):t);i.useEffect(()=>{c||u(o.get(e,t))},[]);let m=i.useCallback(t=>{null==t?o.remove(e):o.set(e,t),n()&&u(t)},[e]);return i.useEffect(()=>{l.current!==e&&(l.current=e,u(o.get(e,t)))},[e]),[d,m]}function l(e,t){let n=(0,r.h1)("storage"),a=i.useCallback(t=>{null==t?n.remove(e):n.set(e,t)},[e]);return[n.get(e,t),a]}},74053:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var i=n(6029),r=n(55729),a=n(55133),s=n(1868),o=n(43625),l=n(25268),c=n(17939),d=n(74395),u=n(37190),m=n(22295),h=n(46751),f=n(11842),p=n(29481),v=n(94722),x=n(90166);let g={canvas:"bg-canvas",default:"bg-shade-0"},w=({allowEscapeClose:e=!1,background:t="default",children:n,className:w,close:k,closeType:b="close"})=>{let y=r.useRef(null),{t:j}=(0,h.c3)(),N=()=>{};(0,f.y)(),(0,x.N)(),(0,p.W)(y,N,{stopPropagation:!0}),(0,v.B)(e?k:N,{stopPropagation:!0});let A="close"===b?(0,i.jsx)("button",{type:"button",onClick:k,className:"fixed z-1 top-5 right-5 md:top-10 md:right-14 text-shade-30 hover:text-text","aria-label":j("close"),children:(0,i.jsx)(c.A,{size:"1.25rem"})}):(0,i.jsx)(s.A,{className:"fixed z-1 top-5 left-5 md:top-10 md:right-14",children:(0,i.jsx)(a.Ay,{rounded:!0,variant:"surface",size:"sm",onClick:k,className:"shadow-sm",iconLeft:(0,i.jsx)(l.A,{color:"shade-40"}),children:"Back"})});return(0,i.jsx)(d.Ay,{selector:u.G.MODAL,children:(0,i.jsx)(o.A,{children:(0,i.jsxs)(s.A,{ref:y,tabIndex:0,className:(0,m.cn)("fixed inset-0 z-overlay overflow-hidden overflow-y-auto justify-center items-center outline-hidden",g[t]),children:[!!k&&A,(0,i.jsx)(s.A,{className:(0,m.cn)("flex-col items-center max-w-full m-auto shrink-0 py-5 md:py-10",w),children:n})]})})})}},78217:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCompanyFollowers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name_filter"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort_by"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"show_blocked"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"segment_idx"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"companyFollowers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name_filter"},value:{kind:"Variable",name:{kind:"Name",value:"name_filter"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"sort_by"},value:{kind:"Variable",name:{kind:"Name",value:"sort_by"}}},{kind:"Argument",name:{kind:"Name",value:"show_blocked"},value:{kind:"Variable",name:{kind:"Name",value:"show_blocked"}}},{kind:"Argument",name:{kind:"Name",value:"segment_idx"},value:{kind:"Variable",name:{kind:"Name",value:"segment_idx"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CompanyFollowersConnection"},directives:[]}]}}]}}],loc:{start:0,end:424}};i.loc.source={body:"#import './fragments/company-followers-connection.graphql'\n\nquery GetCompanyFollowers(\n  $name_filter: String\n  $first: Int\n  $after: String\n  $sort_by: String\n  $show_blocked: Boolean\n  $segment_idx: ID\n) {\n  companyFollowers(\n    name_filter: $name_filter\n    first: $first\n    after: $after\n    sort_by: $sort_by\n    show_blocked: $show_blocked\n    segment_idx: $segment_idx\n  ) {\n    ...CompanyFollowersConnection\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n(10081).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}));var a={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=i,e.exports.GetCompanyFollowers=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;for(i.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(t){var i=s(e,t);i&&n.definitions.push(i)}),n}(i,"GetCompanyFollowers")},81961:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(6029);n(55729);let r=(0,n(99966).w)((0,i.jsxs)("svg",{fill:"none",viewBox:"0 0 17 16",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"m9.56096 3.14058 5.04644 8.80402c.3537.6203-.1032 1.3861-.8314 1.3861h-10.09299c-.72818 0-1.18516-.7658-.83146-1.3861l5.04648-8.80402c.36351-.63536 1.29941-.63536 1.66293 0z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,i.jsx)("path",{clipRule:"evenodd",d:"m9.44824 6.16406c0-.41421-.33578-.75-.75-.75-.41421 0-.75.33579-.75.75v2.54252c0 .41421.33579.75.75.75.41422 0 .75-.33579.75-.75zm-.11436 4.83034c0 .351-.28458.6356-.63563.6356s-.63563-.2846-.63563-.6356c0-.3511.28458-.6357.63563-.6357s.63563.2846.63563.6357z",fill:"currentColor",fillRule:"evenodd"})]}))},82499:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var i=n(20148),r=n(42875),a=n.n(r);function s(e){return(0,i.IT)(a(),e)}},88265:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var i=n(6029),r=n(55729),a=n(1868),s=n(81961),o=n(17939),l=n(98045),c=n(22295);let d=({className:e,isLoading:t,onClick:n})=>(0,i.jsxs)("button",{type:"button",onClick:n,className:(0,c.cn)("group/round-delete w-6 h-6 bg-shade-0 flex items-center justify-center relative rounded-full border border-solid border-shade-20",e),children:[t&&(0,i.jsx)(l.A,{centered:!0,className:"group-hover/round-delete:hidden",color:"highlight",size:"1.25rem",strokeWidth:8}),(0,i.jsx)(o.A,{className:(0,c.cn)("group-hover/round-delete:inline-flex",t&&"hidden")})]});var u=n(43328),m=n(46751),h=n(67810),f=n(68180);let p=({attachment:e,onUpload:t,onRemove:n,shouldUpload:o})=>{let{t:l}=(0,m.c3)(),[p,v]=(0,f.n)(),[{data:x,error:g},w]=(0,h.t)("dataUrl"),k=r.useRef(t);return k.current=t,r.useEffect(()=>{let t=!1;return e.file&&(w(e.file),o&&(async()=>{try{let n=await v(e.file);n&&!t&&k.current(n)}catch(e){}})()),()=>{t=!0}},[o]),(0,i.jsxs)("li",{className:"relative group w-24 h-16 shrink-0",children:[(0,i.jsx)(a.A,{className:(0,c.cn)("w-full h-full flex-col items-center justify-center rounded transition-opacity bg-cover bg-center bg-no-repeat border border-shade-20 text-center",p.loading?"opacity-50":"opacity-100"),style:{backgroundImage:`url(${p.error?"":x||e.url})`},children:p.error?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{color:"shade-30",size:"1rem",className:"mb-1"}),(0,i.jsx)(u.Ay,{size:.6875,color:"text-medium",className:"leading-tight",children:l("form-validation-error-file-retry")})]}):g&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{color:"shade-30",size:"1rem",className:"mb-1"}),(0,i.jsx)(u.Ay,{size:.6875,color:"text-medium",children:"Preview failed"})]})}),(0,i.jsx)("div",{className:(0,c.cn)("absolute -top-1.5 -right-1.5 group-hover:flex",{hidden:!p.loading}),children:(0,i.jsx)(d,{onClick:n,isLoading:p.loading})})]})};var v=n(33586),x=n.n(v),g=n(29377),w=n(63259),k=n(14740),b=n(73668);let y=({as:e,children:t,className:n,size:a="sm",variant:s="default"})=>{let o=r.useRef(null),l=r.useRef(null),d=r.useRef(null),u=r.useMemo(()=>(0,g.n)(()=>{o.current&&l.current&&d.current&&function(e,t,n){let{scrollLeft:i,scrollWidth:r,offsetWidth:a}=e;t.style.opacity=i>5?"1":"0",n.style.opacity=i+a<r-5?"1":"0"}(o.current,l.current,d.current)},30),[]);return(0,k.N)(()=>{u()},[]),(0,b.P)(o,{childList:!0,subtree:!0,characterData:!0},u),(0,w.M)("resize",u),(0,i.jsx)("div",{className:(0,c.cn)("relative z-0 overflow-hidden",n),children:(0,i.jsxs)("div",{ref:o,className:"flex flex-nowrap overflow-x-auto -mb-5 pb-5 overflow-scroll-fix",onScroll:u,children:[(0,i.jsx)("div",{className:(0,c.cn)(x()["shadow-left"],x()[`size--${a}`],x()[`variant--${s}`],"bg-gradient-shade-0-to-right"),ref:l}),t,(0,i.jsx)("div",{className:(0,c.cn)(x()["shadow-right"],x()[`size--${a}`],x()[`variant--${s}`],"bg-gradient-shade-0-to-left"),ref:d})]})})};var j=n(45638),N=n(92481),A=n(1909);let E=({control:e,setValue:t,onCancel:n,onUpload:r})=>{let{hasSession:a}=(0,N.A)(),s=(0,A.FH)({control:e,name:"attachments"});return s&&0!==s.length?(0,i.jsx)(y,{className:"grow min-w-0 h-18 -mt-2",children:(0,i.jsx)(j.A,{as:"ul",gap:2,className:"pt-2 pr-2",children:s.map(e=>(0,i.jsx)(p,{attachment:e,shouldUpload:a,onUpload:n=>(function(e,n){t("attachments",s.map(t=>t.idx===e.idx?{...e,url:n}:t)),r&&r({...e,url:n})})(e,n),onRemove:()=>(function(e){t("attachments",s.filter(t=>t.idx!==e.idx)),n&&n(e)})(e)},e.idx))})}):null}},97900:(e,t,n)=>{var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCompanyUsers"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"companyUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CompanyUser"},directives:[]}]}}]}}],loc:{start:0,end:110}};i.loc.source={body:"#import './fragments/company-user.graphql'\n\nquery GetCompanyUsers {\n  companyUsers {\n    ...CompanyUser\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n(22294).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}));var a={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach(function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})}(e,t),a[e.name.value]=t}}),e.exports=i,e.exports.GetCompanyUsers=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;for(i.forEach(function(e){o.add(e)});o.size>0;){var l=o;o=new Set,l.forEach(function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(t){var i=s(e,t);i&&n.definitions.push(i)}),n}(i,"GetCompanyUsers")}}]);